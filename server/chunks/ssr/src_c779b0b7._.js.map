{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,0RACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,mNAAgB,CAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAC9B,qBACE,8OAAC;QACC,WAAW,IAAA,yHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/store/tracking-store.ts"],"sourcesContent":["\nimport { create } from \"zustand\";\nimport { Vehicle } from \"@/types/tracking\";\n\ninterface TrackingState {\n  vehicles: Vehicle[];\n  selectedVehicle?: Vehicle;\n  autoRefresh: boolean;\n  showCallsigns: boolean;\n  setVehicles: (v: Vehicle[]) => void;\n  selectVehicle: (v?: Vehicle) => void;\n  toggleAutoRefresh: () => void;\n  toggleCallsigns: () => void;\n}\n\nexport const useTrackingStore = create<TrackingState>((set) => ({\n  vehicles: [],\n  autoRefresh: true,\n  showCallsigns: true,\n  setVehicles: (vehicles) => set({ vehicles }),\n  selectVehicle: (v) => set({ selectedVehicle: v }),\n  toggleAutoRefresh: () =>\n    set((s) => ({ autoRefresh: !s.autoRefresh })),\n  toggleCallsigns: () =>\n    set((s) => ({ showCallsigns: !s.showCallsigns })),\n}));\n"],"names":[],"mappings":";;;;AACA;;AAcO,MAAM,mBAAmB,IAAA,kKAAM,EAAgB,CAAC,MAAQ,CAAC;QAC9D,UAAU,EAAE;QACZ,aAAa;QACb,eAAe;QACf,aAAa,CAAC,WAAa,IAAI;gBAAE;YAAS;QAC1C,eAAe,CAAC,IAAM,IAAI;gBAAE,iBAAiB;YAAE;QAC/C,mBAAmB,IACjB,IAAI,CAAC,IAAM,CAAC;oBAAE,aAAa,CAAC,EAAE,WAAW;gBAAC,CAAC;QAC7C,iBAAiB,IACf,IAAI,CAAC,IAAM,CAAC;oBAAE,eAAe,CAAC,EAAE,aAAa;gBAAC,CAAC;IACnD,CAAC","debugId":null}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/tracking/top-bar.tsx"],"sourcesContent":["\n\"use client\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { useTrackingStore } from \"@/store/tracking-store\";\nimport { RefreshCw, Tag, Search, TrafficCone } from \"lucide-react\";\n\nexport default function TrackingTopBar() {\n  const {\n    autoRefresh,\n    toggleAutoRefresh,\n    showCallsigns,\n    toggleCallsigns,\n  } = useTrackingStore();\n\n  return (\n    <div className=\"absolute top-4 left-4 z-10 flex gap-2 bg-background/80 backdrop-blur-sm p-2 rounded-lg shadow-md border\">\n      <Button onClick={toggleAutoRefresh} variant=\"outline\" size=\"sm\">\n        <RefreshCw className={`mr-2 h-4 w-4 ${autoRefresh ? 'animate-spin' : ''}`} />\n        {autoRefresh ? \"Auto Refresh ON\" : \"Auto Refresh OFF\"}\n      </Button>\n      <Button onClick={toggleCallsigns} variant=\"outline\" size=\"sm\">\n        <Tag className=\"mr-2 h-4 w-4\" />\n        {showCallsigns ? \"Hide Callsigns\" : \"Show Callsigns\"}\n      </Button>\n      <Button variant=\"outline\" size=\"sm\">\n        <Search className=\"mr-2 h-4 w-4\" />\n        Find Nearest\n      </Button>\n      <Button variant=\"outline\" size=\"sm\">\n        <TrafficCone className=\"mr-2 h-4 w-4\" />\n        Traffic\n      </Button>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,EACJ,WAAW,EACX,iBAAiB,EACjB,aAAa,EACb,eAAe,EAChB,GAAG,IAAA,qJAAgB;IAEpB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,4IAAM;gBAAC,SAAS;gBAAmB,SAAQ;gBAAU,MAAK;;kCACzD,8OAAC,6NAAS;wBAAC,WAAW,CAAC,aAAa,EAAE,cAAc,iBAAiB,IAAI;;;;;;oBACxE,cAAc,oBAAoB;;;;;;;0BAErC,8OAAC,4IAAM;gBAAC,SAAS;gBAAiB,SAAQ;gBAAU,MAAK;;kCACvD,8OAAC,uMAAG;wBAAC,WAAU;;;;;;oBACd,gBAAgB,mBAAmB;;;;;;;0BAEtC,8OAAC,4IAAM;gBAAC,SAAQ;gBAAU,MAAK;;kCAC7B,8OAAC,gNAAM;wBAAC,WAAU;;;;;;oBAAiB;;;;;;;0BAGrC,8OAAC,4IAAM;gBAAC,SAAQ;gBAAU,MAAK;;kCAC7B,8OAAC,mOAAW;wBAAC,WAAU;;;;;;oBAAiB;;;;;;;;;;;;;AAKhD","debugId":null}},
    {"offset": {"line": 197, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\n      \"font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,mNAAgB,CAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,4DACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,6CACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,mNAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,yHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 282, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/separator.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,0BAAY,mNAAgB,CAIhC,CACE,EAAE,SAAS,EAAE,cAAc,YAAY,EAAE,aAAa,IAAI,EAAE,GAAG,OAAO,EACtE,oBAEA,8OAAC,6KAAuB;QACtB,KAAK;QACL,YAAY;QACZ,aAAa;QACb,WAAW,IAAA,yHAAE,EACX,sBACA,gBAAgB,eAAe,mBAAmB,kBAClD;QAED,GAAG,KAAK;;;;;;AAIf,UAAU,WAAW,GAAG,6KAAuB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 312, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/tracking/driver-card.tsx"],"sourcesContent":["\n\"use client\";\n\nimport { useTrackingStore } from \"@/store/tracking-store\";\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Button } from \"../ui/button\";\nimport { Phone, MessageSquare, Briefcase, Clock } from \"lucide-react\";\n\nexport default function DriverCard() {\n  const { selectedVehicle, selectVehicle } = useTrackingStore();\n\n  if (!selectedVehicle) {\n    return (\n        <div className=\"flex flex-col items-center justify-center h-full text-center text-muted-foreground p-4\">\n            <Briefcase className=\"h-12 w-12 mb-4\" />\n            <h3 className=\"font-semibold\">No Vehicle Selected</h3>\n            <p className=\"text-sm\">Click on a vehicle on the map to see its details.</p>\n        </div>\n    )\n  }\n\n  const { driver } = selectedVehicle;\n\n  return (\n    <div className=\"p-4 h-full flex flex-col\">\n        <Card>\n            <CardHeader>\n                <div className=\"flex justify-between items-start\">\n                    <div>\n                        <CardTitle>{selectedVehicle.plateNumber}</CardTitle>\n                        <CardDescription>{selectedVehicle.callsign} - {selectedVehicle.type}</CardDescription>\n                    </div>\n                    <Button variant=\"ghost\" size=\"sm\" onClick={() => selectVehicle(undefined)}>Close</Button>\n                </div>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n                <div className=\"text-sm\">\n                    <p><strong>Status:</strong> {selectedVehicle.status}</p>\n                    <p><strong>Speed:</strong> {selectedVehicle.speed ?? \"--\"} km/h</p>\n                    <p><strong>Fuel:</strong> {selectedVehicle.fuel ?? \"--\"}%</p>\n                    <p><strong>Battery:</strong> {selectedVehicle.battery ?? \"--\"}%</p>\n                </div>\n\n                {driver && (\n                    <>\n                        <Separator />\n                        <div>\n                            <h4 className=\"font-semibold mb-2\">Driver Details</h4>\n                            <div className=\"text-sm space-y-1\">\n                                <p><strong>Name:</strong> {driver.name}</p>\n                                <p><strong>Phone:</strong> {driver.phone}</p>\n                                <p><strong>Shift End:</strong> {driver.shiftEnd}</p>\n                            </div>\n                        </div>\n                    </>\n                )}\n\n                <Separator />\n                \n                <div className=\"grid grid-cols-2 gap-2\">\n                    <Button variant=\"outline\"><Phone className=\"mr-2 h-4 w-4\"/> Call</Button>\n                    <Button variant=\"outline\"><MessageSquare className=\"mr-2 h-4 w-4\"/> Message</Button>\n                </div>\n            </CardContent>\n        </Card>\n        \n        <div className=\"flex-grow p-4 mt-4 border rounded-lg bg-muted/50\">\n            <h4 className=\"font-semibold mb-2 flex items-center\"><Clock className=\"mr-2 h-4 w-4\"/> Activity Log</h4>\n            <p className=\"text-sm text-muted-foreground\">No recent activity.</p>\n        </div>\n\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AANA;;;;;;;AAQe,SAAS;IACtB,MAAM,EAAE,eAAe,EAAE,aAAa,EAAE,GAAG,IAAA,qJAAgB;IAE3D,IAAI,CAAC,iBAAiB;QACpB,qBACI,8OAAC;YAAI,WAAU;;8BACX,8OAAC,yNAAS;oBAAC,WAAU;;;;;;8BACrB,8OAAC;oBAAG,WAAU;8BAAgB;;;;;;8BAC9B,8OAAC;oBAAE,WAAU;8BAAU;;;;;;;;;;;;IAGjC;IAEA,MAAM,EAAE,MAAM,EAAE,GAAG;IAEnB,qBACE,8OAAC;QAAI,WAAU;;0BACX,8OAAC,wIAAI;;kCACD,8OAAC,8IAAU;kCACP,cAAA,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;;sDACG,8OAAC,6IAAS;sDAAE,gBAAgB,WAAW;;;;;;sDACvC,8OAAC,mJAAe;;gDAAE,gBAAgB,QAAQ;gDAAC;gDAAI,gBAAgB,IAAI;;;;;;;;;;;;;8CAEvE,8OAAC,4IAAM;oCAAC,SAAQ;oCAAQ,MAAK;oCAAK,SAAS,IAAM,cAAc;8CAAY;;;;;;;;;;;;;;;;;kCAGnF,8OAAC,+IAAW;wBAAC,WAAU;;0CACnB,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;;0DAAE,8OAAC;0DAAO;;;;;;4CAAgB;4CAAE,gBAAgB,MAAM;;;;;;;kDACnD,8OAAC;;0DAAE,8OAAC;0DAAO;;;;;;4CAAe;4CAAE,gBAAgB,KAAK,IAAI;4CAAK;;;;;;;kDAC1D,8OAAC;;0DAAE,8OAAC;0DAAO;;;;;;4CAAc;4CAAE,gBAAgB,IAAI,IAAI;4CAAK;;;;;;;kDACxD,8OAAC;;0DAAE,8OAAC;0DAAO;;;;;;4CAAiB;4CAAE,gBAAgB,OAAO,IAAI;4CAAK;;;;;;;;;;;;;4BAGjE,wBACG;;kDACI,8OAAC,kJAAS;;;;;kDACV,8OAAC;;0DACG,8OAAC;gDAAG,WAAU;0DAAqB;;;;;;0DACnC,8OAAC;gDAAI,WAAU;;kEACX,8OAAC;;0EAAE,8OAAC;0EAAO;;;;;;4DAAc;4DAAE,OAAO,IAAI;;;;;;;kEACtC,8OAAC;;0EAAE,8OAAC;0EAAO;;;;;;4DAAe;4DAAE,OAAO,KAAK;;;;;;;kEACxC,8OAAC;;0EAAE,8OAAC;0EAAO;;;;;;4DAAmB;4DAAE,OAAO,QAAQ;;;;;;;;;;;;;;;;;;;;;0CAM/D,8OAAC,kJAAS;;;;;0CAEV,8OAAC;gCAAI,WAAU;;kDACX,8OAAC,4IAAM;wCAAC,SAAQ;;0DAAU,8OAAC,6MAAK;gDAAC,WAAU;;;;;;4CAAgB;;;;;;;kDAC3D,8OAAC,4IAAM;wCAAC,SAAQ;;0DAAU,8OAAC,yOAAa;gDAAC,WAAU;;;;;;4CAAgB;;;;;;;;;;;;;;;;;;;;;;;;;0BAK/E,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAG,WAAU;;0CAAuC,8OAAC,6MAAK;gCAAC,WAAU;;;;;;4BAAgB;;;;;;;kCACtF,8OAAC;wBAAE,WAAU;kCAAgC;;;;;;;;;;;;;;;;;;AAKzD","debugId":null}},
    {"offset": {"line": 698, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/map/leaflet-tracking-map.tsx"],"sourcesContent":["\n\"use client\";\n\nimport { MapContainer, TileLayer, Marker, Popup, Polyline } from \"react-leaflet\";\nimport { useState, useEffect, useRef } from \"react\";\nimport type { Vehicle } from \"@/lib/types\";\nimport { useTrackingStore } from \"@/store/tracking-store\";\nimport \"leaflet/dist/leaflet.css\";\nimport L from \"leaflet\";\n\nconst getVehicleIcon = (type: Vehicle[\"type\"], isSelected: boolean) => {\n    let iconUrl = isSelected \n        ? \"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-black.png\"\n        : \"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-blue.png\";\n\n    return new L.Icon({\n        iconUrl,\n        shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',\n        iconSize: [25, 41],\n        iconAnchor: [12, 41],\n        popupAnchor: [1, -34],\n        shadowSize: [41, 41]\n    });\n};\n\ninterface LeafletTrackingMapProps {\n    vehicles: Vehicle[];\n}\n\n// Helper component to update map view without re-initializing the map\nfunction ChangeView({ center, zoom }: { center: L.LatLngTuple, zoom: number }) {\n  const map = L.useMap();\n  map.setView(center, zoom);\n  return null;\n}\n\nexport default function LeafletTrackingMap({ vehicles }: LeafletTrackingMapProps) {\n  const { selectedVehicle, selectVehicle } = useTrackingStore();\n  const [isClient, setIsClient] = useState(false);\n  const defaultPosition: [number, number] = [24.7136, 46.6753];\n\n  useEffect(() => {\n    setIsClient(true);\n    // This is a common fix for Leaflet icons in React\n    delete (L.Icon.Default.prototype as any)._getIconUrl;\n    L.Icon.Default.mergeOptions({\n      iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\n      iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\n      shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',\n    });\n  }, []);\n\n  const selectedVehicleData = vehicles.find(v => v.id === selectedVehicle?.id);\n\n  if (!isClient) {\n    return <div className=\"h-full w-full bg-muted animate-pulse\" />;\n  }\n\n  return (\n    <MapContainer center={defaultPosition} zoom={10} scrollWheelZoom={true} className=\"h-full w-full\">\n      <TileLayer\n        attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n      />\n      {vehicles.map((v) => (\n        <Marker\n          key={v.id}\n          position={[v.currentLocation.lat, v.currentLocation.lng]}\n          icon={getVehicleIcon(v.type, selectedVehicle?.id === v.id)}\n          eventHandlers={{\n            click: () => {\n              // The store should already have the full vehicle object.\n              // This finds it in the store's vehicle list.\n              const storeVehicle = useTrackingStore.getState().vehicles.find(sv => sv.id === v.id);\n               if (storeVehicle) {\n                selectVehicle(storeVehicle);\n              }\n            },\n          }}\n        >\n          <Popup>\n            <div className=\"font-bold\">{v.plateNumber}</div>\n            <div>{v.type}</div>\n          </Popup>\n        </Marker>\n      ))}\n\n      {selectedVehicleData && (\n        <ChangeView center={[selectedVehicleData.currentLocation.lat, selectedVehicleData.currentLocation.lng]} zoom={14} />\n      )}\n    </MapContainer>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AAAA;AAAA;AACA;AAEA;AAEA;AAPA;;;;;;;AASA,MAAM,iBAAiB,CAAC,MAAuB;IAC3C,IAAI,UAAU,aACR,qGACA;IAEN,OAAO,IAAI,4JAAC,CAAC,IAAI,CAAC;QACd;QACA,WAAW;QACX,UAAU;YAAC;YAAI;SAAG;QAClB,YAAY;YAAC;YAAI;SAAG;QACpB,aAAa;YAAC;YAAG,CAAC;SAAG;QACrB,YAAY;YAAC;YAAI;SAAG;IACxB;AACJ;AAMA,sEAAsE;AACtE,SAAS,WAAW,EAAE,MAAM,EAAE,IAAI,EAA2C;IAC3E,MAAM,MAAM,4JAAC,CAAC,MAAM;IACpB,IAAI,OAAO,CAAC,QAAQ;IACpB,OAAO;AACT;AAEe,SAAS,mBAAmB,EAAE,QAAQ,EAA2B;IAC9E,MAAM,EAAE,eAAe,EAAE,aAAa,EAAE,GAAG,IAAA,qJAAgB;IAC3D,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,kBAAoC;QAAC;QAAS;KAAQ;IAE5D,IAAA,kNAAS,EAAC;QACR,YAAY;QACZ,kDAAkD;QAClD,OAAO,AAAC,4JAAC,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAS,WAAW;QACpD,4JAAC,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC;YAC1B,eAAe;YACf,SAAS;YACT,WAAW;QACb;IACF,GAAG,EAAE;IAEL,MAAM,sBAAsB,SAAS,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,iBAAiB;IAEzE,IAAI,CAAC,UAAU;QACb,qBAAO,8OAAC;YAAI,WAAU;;;;;;IACxB;IAEA,qBACE,8OAAC,uKAAY;QAAC,QAAQ;QAAiB,MAAM;QAAI,iBAAiB;QAAM,WAAU;;0BAChF,8OAAC,iKAAS;gBACR,aAAY;gBACZ,KAAI;;;;;;YAEL,SAAS,GAAG,CAAC,CAAC,kBACb,8OAAC,2JAAM;oBAEL,UAAU;wBAAC,EAAE,eAAe,CAAC,GAAG;wBAAE,EAAE,eAAe,CAAC,GAAG;qBAAC;oBACxD,MAAM,eAAe,EAAE,IAAI,EAAE,iBAAiB,OAAO,EAAE,EAAE;oBACzD,eAAe;wBACb,OAAO;4BACL,yDAAyD;4BACzD,6CAA6C;4BAC7C,MAAM,eAAe,qJAAgB,CAAC,QAAQ,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAA,KAAM,GAAG,EAAE,KAAK,EAAE,EAAE;4BAClF,IAAI,cAAc;gCACjB,cAAc;4BAChB;wBACF;oBACF;8BAEA,cAAA,8OAAC,yJAAK;;0CACJ,8OAAC;gCAAI,WAAU;0CAAa,EAAE,WAAW;;;;;;0CACzC,8OAAC;0CAAK,EAAE,IAAI;;;;;;;;;;;;mBAhBT,EAAE,EAAE;;;;;YAqBZ,qCACC,8OAAC;gBAAW,QAAQ;oBAAC,oBAAoB,eAAe,CAAC,GAAG;oBAAE,oBAAoB,eAAe,CAAC,GAAG;iBAAC;gBAAE,MAAM;;;;;;;;;;;;AAItH","debugId":null}}]
}