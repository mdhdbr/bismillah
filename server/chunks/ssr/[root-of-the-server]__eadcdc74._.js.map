{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/page-header.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\";\n\ntype PageHeaderProps = {\n  title: string;\n  description?: string;\n  action?: React.ReactNode;\n  className?: string;\n};\n\nexport function PageHeader({ title, description, action, className }: PageHeaderProps) {\n  return (\n    <div className={cn(\"flex flex-col md:flex-row items-start md:items-center justify-between gap-4 mb-6\", className)}>\n      <div className=\"grid gap-1 flex-1\">\n        <h1 className=\"text-xl md:text-2xl font-bold tracking-tight\">{title}</h1>\n        {description && (\n          <p className=\"text-muted-foreground\">{description}</p>\n        )}\n      </div>\n      {action && <div className=\"shrink-0\">{action}</div>}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AASO,SAAS,WAAW,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,SAAS,EAAmB;IACnF,qBACE,8OAAC;QAAI,WAAW,IAAA,yHAAE,EAAC,oFAAoF;;0BACrG,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAgD;;;;;;oBAC7D,6BACC,8OAAC;wBAAE,WAAU;kCAAyB;;;;;;;;;;;;YAGzC,wBAAU,8OAAC;gBAAI,WAAU;0BAAY;;;;;;;;;;;;AAG5C","debugId":null}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/switch.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,mNAAgB,CAG7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,0KAAqB;QACpB,WAAW,IAAA,yHAAE,EACX,sXACA;QAED,GAAG,KAAK;QACT,KAAK;kBAEL,cAAA,8OAAC,2KAAsB;YACrB,WAAW,IAAA,yHAAE,EACX;;;;;;;;;;;AAKR,OAAO,WAAW,GAAG,0KAAqB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 95, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,IAAA,uKAAG,EACvB;AAGF,MAAM,sBAAQ,mNAAgB,CAI5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,yKAAmB;QAClB,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,iBAAiB;QAC9B,GAAG,KAAK;;;;;;AAGb,MAAM,WAAW,GAAG,yKAAmB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 126, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\n      \"font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,mNAAgB,CAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,4DACA;QAED,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,6CACA;QAED,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,mNAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,yHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 211, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/checkbox.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,yBAAW,mNAAgB,CAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,4KAAsB;QACrB,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,kTACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,iLAA2B;YAC1B,WAAW,IAAA,yHAAE,EAAC;sBAEd,cAAA,8OAAC,6MAAK;gBAAC,WAAU;;;;;;;;;;;;;;;;AAIvB,SAAS,WAAW,GAAG,4KAAsB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 255, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/driver-checklist.tsx"],"sourcesContent":["\n\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport { Label } from \"@/components/ui/label\";\n\ninterface DriverChecklistProps {\n    title: string;\n    items: string[];\n    onChecklistChange: (isComplete: boolean) => void;\n    tripId: string; // Used to reset state when the trip changes\n}\n\nexport function DriverChecklist({ title, items, onChecklistChange, tripId }: DriverChecklistProps) {\n    const [checkedItems, setCheckedItems] = useState<Record<string, boolean>>({});\n\n    // Reset checklist when tripId changes\n    useEffect(() => {\n        setCheckedItems({});\n        onChecklistChange(false);\n    }, [tripId, onChecklistChange]);\n\n    const handleCheckedChange = (item: string, isChecked: boolean) => {\n        const newCheckedItems = {\n            ...checkedItems,\n            [item]: isChecked,\n        };\n        setCheckedItems(newCheckedItems);\n\n        const allChecked = items.every(i => newCheckedItems[i]);\n        onChecklistChange(allChecked);\n    };\n\n    return (\n        <Card>\n            <CardHeader>\n                <CardTitle>{title}</CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n                {items.map((item, index) => {\n                    const id = `${title.replace(/\\s+/g, '-')}-${index}`;\n                    return (\n                        <div key={id} className=\"flex items-center space-x-3\">\n                            <Checkbox \n                                id={id} \n                                checked={checkedItems[item] || false}\n                                onCheckedChange={(isChecked) => handleCheckedChange(item, !!isChecked)}\n                            />\n                            <Label htmlFor={id} className=\"font-normal text-sm\">\n                                {item}\n                            </Label>\n                        </div>\n                    );\n                })}\n            </CardContent>\n        </Card>\n    );\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AACA;AALA;;;;;;AAcO,SAAS,gBAAgB,EAAE,KAAK,EAAE,KAAK,EAAE,iBAAiB,EAAE,MAAM,EAAwB;IAC7F,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAA0B,CAAC;IAE3E,sCAAsC;IACtC,IAAA,kNAAS,EAAC;QACN,gBAAgB,CAAC;QACjB,kBAAkB;IACtB,GAAG;QAAC;QAAQ;KAAkB;IAE9B,MAAM,sBAAsB,CAAC,MAAc;QACvC,MAAM,kBAAkB;YACpB,GAAG,YAAY;YACf,CAAC,KAAK,EAAE;QACZ;QACA,gBAAgB;QAEhB,MAAM,aAAa,MAAM,KAAK,CAAC,CAAA,IAAK,eAAe,CAAC,EAAE;QACtD,kBAAkB;IACtB;IAEA,qBACI,8OAAC,wIAAI;;0BACD,8OAAC,8IAAU;0BACP,cAAA,8OAAC,6IAAS;8BAAE;;;;;;;;;;;0BAEhB,8OAAC,+IAAW;gBAAC,WAAU;0BAClB,MAAM,GAAG,CAAC,CAAC,MAAM;oBACd,MAAM,KAAK,GAAG,MAAM,OAAO,CAAC,QAAQ,KAAK,CAAC,EAAE,OAAO;oBACnD,qBACI,8OAAC;wBAAa,WAAU;;0CACpB,8OAAC,gJAAQ;gCACL,IAAI;gCACJ,SAAS,YAAY,CAAC,KAAK,IAAI;gCAC/B,iBAAiB,CAAC,YAAc,oBAAoB,MAAM,CAAC,CAAC;;;;;;0CAEhE,8OAAC,0IAAK;gCAAC,SAAS;gCAAI,WAAU;0CACzB;;;;;;;uBAPC;;;;;gBAWlB;;;;;;;;;;;;AAIhB","debugId":null}},
    {"offset": {"line": 352, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/status-badge.tsx"],"sourcesContent":["\"use client\";\n\nimport { cn } from \"@/lib/utils\";\nimport type { TripStatus, VehicleStatus, DriverStatus, FatigueLevel } from \"@/lib/types\";\n\ntype Status = TripStatus | VehicleStatus | DriverStatus | FatigueLevel;\n\nconst statusConfig: Record<Status, { color: string; label: string }> = {\n  // Vehicle Status\n  AVAILABLE: { color: \"bg-green-100 text-green-800\", label: \"Available\" },\n  ASSIGNED: { color: \"bg-blue-100 text-blue-800\", label: \"Assigned\" },\n  ON_TRIP: { color: \"bg-primary/10 text-primary\", label: \"On Trip\" },\n  MAINTENANCE: { color: \"bg-yellow-100 text-yellow-800\", label: \"Maintenance\" },\n  OUT_OF_SERVICE: { color: \"bg-red-100 text-red-800\", label: \"Out of Service\" },\n\n  // Trip Status\n  PENDING: { color: \"bg-gray-100 text-gray-800\", label: \"Pending\" },\n  ACCEPTED: { color: \"bg-blue-100 text-blue-800\", label: \"Accepted\" },\n  TO_PICKUP: { color: \"bg-indigo-100 text-indigo-800\", label: \"To Pickup\" },\n  AT_PICKUP: { color: \"bg-amber-100 text-amber-800\", label: \"At Pickup\" },\n  POB: { color: \"bg-purple-100 text-purple-800\", label: \"POB\" },\n  ON_ROUTE: { color: \"bg-sky-100 text-sky-800\", label: \"On Route\" },\n  AT_DROPOFF: { color: \"bg-amber-100 text-amber-800\", label: \"At Dropoff\" },\n  UNLOADING: { color: \"bg-orange-100 text-orange-800\", label: \"Unloading\" },\n  COMPLETED: { color: \"bg-green-100 text-green-800\", label: \"Completed\" },\n  CANCELLED: { color: \"bg-red-100 text-red-800\", label: \"Cancelled\" },\n  LOADING: { color: \"bg-yellow-100 text-yellow-800\", label: \"Loading\" },\n  AT_WORK: { color: \"bg-blue-100 text-blue-800\", label: \"At Work\" },\n  EMPTY: { color: \"bg-gray-100 text-gray-800\", label: \"Empty\" },\n  ARRIVED: { color: \"bg-teal-100 text-teal-800\", label: \"Arrived\" },\n  BOARDED: { color: \"bg-purple-100 text-purple-800\", label: \"Boarded\" },\n\n\n  // Driver Status\n  ON_DUTY: { color: \"bg-green-100 text-green-800\", label: \"On Duty\" },\n  OFF_DUTY: { color: \"bg-gray-100 text-gray-800\", label: \"Off Duty\" },\n  ON_BREAK: { color: \"bg-yellow-100 text-yellow-800\", label: \"On Break\" },\n  FORCED_REST: { color: \"bg-red-100 text-red-800\", label: \"Forced Rest\" },\n\n  // Fatigue Levels\n  LOW: { color: \"bg-green-100 text-green-800\", label: \"Low\" },\n  MEDIUM: { color: \"bg-yellow-100 text-yellow-800\", label: \"Medium\" },\n  HIGH: { color: \"bg-orange-100 text-orange-800\", label: \"High\" },\n  CRITICAL: { color: \"bg-red-100 text-red-800\", label: \"Critical\" },\n};\n\ntype StatusBadgeProps = {\n  status: Status;\n  size?: \"sm\" | \"md\";\n  className?: string;\n  dot?: boolean;\n};\n\nexport function StatusBadge({ status, size = \"md\", className, dot = true }: StatusBadgeProps) {\n  const config = statusConfig[status] || { color: \"bg-gray-100 text-gray-800\", label: status };\n\n  const sizes = {\n    sm: \"px-2 py-0.5 text-xs\",\n    md: \"px-2.5 py-0.5 text-sm\",\n  };\n\n  const dotColorMap: Record<string, string> = {\n    \"bg-green-100 text-green-800\": \"bg-green-500\",\n    \"bg-blue-100 text-blue-800\": \"bg-blue-500\",\n    \"bg-primary/10 text-primary\": \"bg-primary\",\n    \"bg-yellow-100 text-yellow-800\": \"bg-yellow-500\",\n    \"bg-red-100 text-red-800\": \"bg-red-500\",\n    \"bg-gray-100 text-gray-800\": \"bg-gray-500\",\n    \"bg-indigo-100 text-indigo-800\": \"bg-indigo-500\",\n    \"bg-purple-100 text-purple-800\": \"bg-purple-500\",\n    \"bg-sky-100 text-sky-800\": \"bg-sky-500\",\n    \"bg-amber-100 text-amber-800\": \"bg-amber-500\",\n    \"bg-orange-100 text-orange-800\": \"bg-orange-500\",\n    \"bg-teal-100 text-teal-800\": \"bg-teal-500\",\n  };\n\n  return (\n    <span\n      className={cn(\n        \"inline-flex items-center rounded-full font-medium\",\n        config.color,\n        sizes[size],\n        className\n      )}\n    >\n      {dot && <span className={cn(\"w-2 h-2 rounded-full mr-1.5\", dotColorMap[config.color] || 'bg-gray-500')} />}\n      {config.label}\n    </span>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAOA,MAAM,eAAiE;IACrE,iBAAiB;IACjB,WAAW;QAAE,OAAO;QAA+B,OAAO;IAAY;IACtE,UAAU;QAAE,OAAO;QAA6B,OAAO;IAAW;IAClE,SAAS;QAAE,OAAO;QAA8B,OAAO;IAAU;IACjE,aAAa;QAAE,OAAO;QAAiC,OAAO;IAAc;IAC5E,gBAAgB;QAAE,OAAO;QAA2B,OAAO;IAAiB;IAE5E,cAAc;IACd,SAAS;QAAE,OAAO;QAA6B,OAAO;IAAU;IAChE,UAAU;QAAE,OAAO;QAA6B,OAAO;IAAW;IAClE,WAAW;QAAE,OAAO;QAAiC,OAAO;IAAY;IACxE,WAAW;QAAE,OAAO;QAA+B,OAAO;IAAY;IACtE,KAAK;QAAE,OAAO;QAAiC,OAAO;IAAM;IAC5D,UAAU;QAAE,OAAO;QAA2B,OAAO;IAAW;IAChE,YAAY;QAAE,OAAO;QAA+B,OAAO;IAAa;IACxE,WAAW;QAAE,OAAO;QAAiC,OAAO;IAAY;IACxE,WAAW;QAAE,OAAO;QAA+B,OAAO;IAAY;IACtE,WAAW;QAAE,OAAO;QAA2B,OAAO;IAAY;IAClE,SAAS;QAAE,OAAO;QAAiC,OAAO;IAAU;IACpE,SAAS;QAAE,OAAO;QAA6B,OAAO;IAAU;IAChE,OAAO;QAAE,OAAO;QAA6B,OAAO;IAAQ;IAC5D,SAAS;QAAE,OAAO;QAA6B,OAAO;IAAU;IAChE,SAAS;QAAE,OAAO;QAAiC,OAAO;IAAU;IAGpE,gBAAgB;IAChB,SAAS;QAAE,OAAO;QAA+B,OAAO;IAAU;IAClE,UAAU;QAAE,OAAO;QAA6B,OAAO;IAAW;IAClE,UAAU;QAAE,OAAO;QAAiC,OAAO;IAAW;IACtE,aAAa;QAAE,OAAO;QAA2B,OAAO;IAAc;IAEtE,iBAAiB;IACjB,KAAK;QAAE,OAAO;QAA+B,OAAO;IAAM;IAC1D,QAAQ;QAAE,OAAO;QAAiC,OAAO;IAAS;IAClE,MAAM;QAAE,OAAO;QAAiC,OAAO;IAAO;IAC9D,UAAU;QAAE,OAAO;QAA2B,OAAO;IAAW;AAClE;AASO,SAAS,YAAY,EAAE,MAAM,EAAE,OAAO,IAAI,EAAE,SAAS,EAAE,MAAM,IAAI,EAAoB;IAC1F,MAAM,SAAS,YAAY,CAAC,OAAO,IAAI;QAAE,OAAO;QAA6B,OAAO;IAAO;IAE3F,MAAM,QAAQ;QACZ,IAAI;QACJ,IAAI;IACN;IAEA,MAAM,cAAsC;QAC1C,+BAA+B;QAC/B,6BAA6B;QAC7B,8BAA8B;QAC9B,iCAAiC;QACjC,2BAA2B;QAC3B,6BAA6B;QAC7B,iCAAiC;QACjC,iCAAiC;QACjC,2BAA2B;QAC3B,+BAA+B;QAC/B,iCAAiC;QACjC,6BAA6B;IAC/B;IAEA,qBACE,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,qDACA,OAAO,KAAK,EACZ,KAAK,CAAC,KAAK,EACX;;YAGD,qBAAO,8OAAC;gBAAK,WAAW,IAAA,yHAAE,EAAC,+BAA+B,WAAW,CAAC,OAAO,KAAK,CAAC,IAAI;;;;;;YACvF,OAAO,KAAK;;;;;;;AAGnB","debugId":null}},
    {"offset": {"line": 524, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/select.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAAA;AAAA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,0KAAoB;AAEnC,MAAM,cAAc,2KAAqB;AAEzC,MAAM,cAAc,2KAAqB;AAEzC,MAAM,8BAAgB,mNAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC,6KAAuB;QACtB,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,mTACA;QAED,GAAG,KAAK;;YAER;0BACD,8OAAC,0KAAoB;gBAAC,OAAO;0BAC3B,cAAA,8OAAC,mOAAW;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAI7B,cAAc,WAAW,GAAG,6KAAuB,CAAC,WAAW;AAE/D,MAAM,qCAAuB,mNAAgB,CAG3C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,oLAA8B;QAC7B,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,6NAAS;YAAC,WAAU;;;;;;;;;;;AAGzB,qBAAqB,WAAW,GAAG,oLAA8B,CAAC,WAAW;AAE7E,MAAM,uCAAyB,mNAAgB,CAG7C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,sLAAgC;QAC/B,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,mOAAW;YAAC,WAAU;;;;;;;;;;;AAG3B,uBAAuB,WAAW,GAChC,sLAAgC,CAAC,WAAW;AAE9C,MAAM,8BAAgB,mNAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,WAAW,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACzD,8OAAC,4KAAsB;kBACrB,cAAA,8OAAC,6KAAuB;YACtB,KAAK;YACL,WAAW,IAAA,yHAAE,EACX,ucACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;;8BAET,8OAAC;;;;;8BACD,8OAAC,8KAAwB;oBACvB,WAAW,IAAA,yHAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,8OAAC;;;;;;;;;;;;;;;;AAIP,cAAc,WAAW,GAAG,6KAAuB,CAAC,WAAW;AAE/D,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,2KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,0CAA0C;QACvD,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,2KAAqB,CAAC,WAAW;AAE3D,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC,0KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,6NACA;QAED,GAAG,KAAK;;0BAET,8OAAC;gBAAK,WAAU;0BACd,cAAA,8OAAC,mLAA6B;8BAC5B,cAAA,8OAAC,6MAAK;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAIrB,8OAAC,8KAAwB;0BAAE;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,0KAAoB,CAAC,WAAW;AAEzD,MAAM,gCAAkB,mNAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,+KAAyB;QACxB,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,4BAA4B;QACzC,GAAG,KAAK;;;;;;AAGb,gBAAgB,WAAW,GAAG,+KAAyB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 724, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,mNAAgB,CAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,8OAAC;QACC,MAAM;QACN,WAAW,IAAA,yHAAE,EACX,gWACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 752, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/alert.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,uKAAG,EACvB,6JACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,MAAM,sBAAQ,mNAAgB,CAG5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAO,EAAE,oBACnC,8OAAC;QACC,KAAK;QACL,MAAK;QACL,WAAW,IAAA,yHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGb,MAAM,WAAW,GAAG;AAEpB,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,iCAAmB,mNAAgB,CAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,iBAAiB,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 907, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/services/socketService.ts"],"sourcesContent":["\n\"use client\";\n\nimport { io, Socket } from \"socket.io-client\";\nimport jwt from \"jsonwebtoken\";\n\n// In a real app, these would be environment variables\nconst SOCKET_SERVERS = [\n    process.env.NEXT_PUBLIC_PRIMARY_SOCKET_URL || \"wss://primary-region.example.com\",\n    process.env.NEXT_PUBLIC_SECONDARY_SOCKET_URL || \"wss://secondary-region.example.com\",\n];\nconst LOCAL_SOCKET_SERVER = \"http://localhost:3001\";\nconst SECRET_KEY = \"SUPER_SECRET_KEY\";\n\nclass SocketService {\n  private socket: Socket | null = null;\n  private userId: string | null = null;\n  private role: string | null = null;\n  private serverIndex = 0;\n\n  connect(userId: string, role: string) {\n    if (this.socket?.connected) {\n      if (this.userId !== userId) {\n        this.disconnect();\n      } else {\n        return;\n      }\n    }\n\n    this.userId = userId;\n    this.role = role;\n    this.serverIndex = 0; // Start with the primary server\n    \n    this.attemptConnection();\n  }\n\n  private attemptConnection() {\n    if (!this.userId || !this.role) {\n        console.error(\"User ID and role must be set before connecting.\");\n        return;\n    }\n\n    // Simulate generating a JWT token on the client for this demo.\n    const token = jwt.sign({ userId: this.userId, role: this.role }, SECRET_KEY, { expiresIn: \"7d\" });\n    \n    let serverUrl = SOCKET_SERVERS[this.serverIndex];\n    \n    console.log(`Attempting to connect to socket server at ${serverUrl} for user ${this.userId}...`);\n\n    this.socket = io(serverUrl, {\n      auth: { token },\n      reconnection: false, // We are handling reconnection manually for failover\n    });\n\n    this.socket.on(\"connect\", () => {\n      console.log(`Socket connected with ID: ${this.socket?.id} to ${serverUrl} for user ${this.userId}`);\n      this.socket?.emit('user-connected', { userId: this.userId });\n    });\n\n    this.socket.on(\"connect_error\", (err) => {\n      console.error(`Failed to connect to ${serverUrl}:`, err.message);\n      this.socket?.close();\n      \n      this.serverIndex++;\n      if (this.serverIndex < SOCKET_SERVERS.length) {\n          console.log(\"Attempting to connect to the next server...\");\n          this.attemptConnection();\n      } else {\n          // If all production servers fail, try local for development\n          console.log(\"All production servers failed. Trying local development server...\");\n          this.tryLocalConnection(token);\n      }\n    });\n\n    this.socket.on(\"disconnect\", (reason) => {\n      console.log(\"Socket disconnected:\", reason);\n    });\n  }\n\n  private tryLocalConnection(token: string) {\n    // This is a fallback for local development if WSS servers are not running\n    this.socket = io(LOCAL_SOCKET_SERVER, {\n        auth: { token },\n        reconnection: false,\n    });\n     this.socket.on(\"connect\", () => {\n      console.log(`Socket connected with ID: ${this.socket?.id} to LOCAL for user ${this.userId}`);\n      this.socket?.emit('user-connected', { userId: this.userId });\n    });\n     this.socket.on(\"connect_error\", (err) => {\n        console.error(\"Local socket connection also failed:\", err.message);\n    });\n  }\n\n  disconnect() {\n    if (this.socket) {\n      console.log(`Disconnecting socket for user ${this.userId}`);\n      this.socket.disconnect();\n      this.socket = null;\n      this.userId = null;\n      this.role = null;\n    }\n  }\n\n  emit(eventName: string, data?: any, ack?: (response: any) => void) {\n    if (this.socket?.connected) {\n      this.socket.emit(eventName, data, ack);\n    } else {\n      console.error(`Socket not connected. Cannot emit event \"${eventName}\".`);\n    }\n  }\n\n  on(eventName: string, callback: (data: any) => void) {\n    this.socket?.on(eventName, callback);\n  }\n\n  off(eventName: string, callback?: (data: any) => void) {\n    this.socket?.off(eventName, callback);\n  }\n\n  isConnected(): boolean {\n    return this.socket?.connected || false;\n  }\n  \n  getUserId(): string | null {\n    return this.userId;\n  }\n}\n\nexport const socketService = new SocketService();\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1036, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/driver-current-job.tsx"],"sourcesContent":["\n\"use client\";\nimport type { Trip, TripStatus } from \"@/lib/types\";\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Separator } from \"./ui/separator\";\nimport { Button } from \"./ui/button\";\nimport { MapPin, User, Package, Clock, ShieldCheck, History, Timer, Milestone, Siren } from \"lucide-react\";\nimport { StatusBadge } from \"./status-badge\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { useState, useEffect } from \"react\";\nimport { Input } from \"./ui/input\";\nimport { Alert, AlertDescription, AlertTitle } from \"./ui/alert\";\nimport { format, subMinutes } from \"date-fns\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { socketService } from \"@/lib/services/socketService\";\n\n\ninterface CurrentJobCardProps {\n    trip: Trip;\n}\n\nconst passengerTripStatuses: TripStatus[] = [\"ACCEPTED\", \"TO_PICKUP\", \"ARRIVED\", \"BOARDED\", \"POB\", \"ON_ROUTE\", \"AT_DROPOFF\", \"COMPLETED\", \"EMPTY\", \"CANCELLED\"];\nconst freightTripStatuses: TripStatus[] = [\"ACCEPTED\", \"TO_PICKUP\", \"ARRIVED\", \"LOADING\", \"ON_ROUTE\", \"AT_DROPOFF\", \"UNLOADING\", \"COMPLETED\", \"EMPTY\", \"CANCELLED\"];\n\n\ntype StatusEvent = { status: TripStatus; timestamp: Date; };\n\nexport function CurrentJobCard({ trip }: CurrentJobCardProps) {\n    const { toast } = useToast();\n    const [statusHistory, setStatusHistory] = useState<StatusEvent[]>([]);\n    const [otp, setOtp] = useState(\"\");\n    const [showOtpPrompt, setShowOtpPrompt] = useState(false);\n\n    useEffect(() => {\n        // When a new trip is loaded, initialize its status history with the current time.\n        setStatusHistory([{ status: trip.status, timestamp: new Date() }]);\n    }, [trip.id]);\n\n\n    const tripStatuses = trip.type === 'PASSENGER' ? passengerTripStatuses : freightTripStatuses;\n    const currentStatus = statusHistory.length > 0 ? statusHistory[statusHistory.length - 1].status : trip.status;\n    \n    const scheduledTime = new Date(trip.scheduledAt);\n    const recommendedStartTime = subMinutes(scheduledTime, trip.estimatedDuration || 30);\n\n\n    const handleStatusChange = (newStatus: TripStatus) => {\n        // Prevent adding duplicate status\n        if (newStatus === currentStatus) return;\n\n        const needsOtp = (newStatus === 'LOADING' || newStatus === 'ON_ROUTE' || newStatus === 'COMPLETED' || newStatus === 'BOARDED' || newStatus === 'POB');\n        if (needsOtp && !showOtpPrompt && otp === \"\") {\n             // For passenger, POB needs OTP. For others, ON_ROUTE might.\n             if ((trip.type === 'PASSENGER' && (newStatus === 'POB')) || (trip.type !== 'PASSENGER' && newStatus === 'ON_ROUTE')) {\n                setShowOtpPrompt(true);\n                return;\n             }\n        }\n        \n        setShowOtpPrompt(false);\n        setStatusHistory(prev => [...prev, { status: newStatus, timestamp: new Date() }]);\n    }\n\n    const handleOtpSubmit = () => {\n        // OTP check\n        if (otp === '1234') {\n            let nextStatus: TripStatus | undefined;\n            if (trip.type === 'PASSENGER') {\n                if (currentStatus === 'ARRIVED' || currentStatus === 'BOARDED') {\n                    nextStatus = 'POB';\n                }\n            } else { // Freight/Equipment\n                 if (currentStatus === 'ARRIVED' || currentStatus === 'LOADING') {\n                    nextStatus = 'ON_ROUTE';\n                }\n            }\n\n            if (nextStatus) {\n                 setStatusHistory(prev => [...prev, { status: nextStatus!, timestamp: new Date() }]);\n            }\n            setShowOtpPrompt(false);\n            setOtp(\"\");\n        } else {\n            alert(\"Invalid OTP\");\n        }\n    }\n\n    const handleSos = () => {\n      if (!window.confirm(\"Are you sure you want to trigger an SOS? This will send an immediate alert to all supervisors.\")) {\n        return;\n      }\n      \n      navigator.geolocation.getCurrentPosition(\n        (position) => {\n          const { latitude, longitude } = position.coords;\n          const sosData = {\n            userId: socketService.getUserId(),\n            lat: latitude,\n            lng: longitude,\n            time: Date.now(),\n          };\n          socketService.emit(\"sos\", sosData);\n          toast({\n            variant: \"destructive\",\n            title: \"SOS Alert Sent!\",\n            description: \"Your emergency alert has been sent to supervisors with your current location.\",\n          });\n        },\n        (error) => {\n          console.error(\"Error getting location for SOS:\", error);\n          // Send SOS even without location\n           socketService.emit(\"sos\", {\n            userId: socketService.getUserId(),\n            time: Date.now(),\n          });\n          toast({\n            variant: \"destructive\",\n            title: \"SOS Alert Sent (Location Failed)\",\n            description: \"Your emergency alert has been sent, but your location could not be determined.\",\n          });\n        }\n      );\n    };\n\n    const getNextStatusAfterOtp = () => {\n       if (trip.type === 'PASSENGER') {\n            if (currentStatus === 'ARRIVED' || currentStatus === 'BOARDED') return 'POB';\n        } else {\n            if (currentStatus === 'ARRIVED' || currentStatus === 'LOADING') return 'ON_ROUTE';\n        }\n        return 'COMPLETED';\n    }\n\n\n    return (\n        <Card>\n            <CardHeader>\n                <div className=\"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-2\">\n                    <div>\n                        <CardTitle>Current Job: {trip.jobId}</CardTitle>\n                        <CardDescription>Scheduled for {new Date(trip.scheduledAt).toLocaleTimeString()}</CardDescription>\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                        <Button variant=\"destructive\" size=\"sm\" onClick={handleSos}>\n                           <Siren className=\"mr-2 h-4 w-4\"/> SOS\n                        </Button>\n                        <StatusBadge status={currentStatus} className=\"self-start sm:self-auto\" />\n                    </div>\n                </div>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n                <Alert variant=\"default\" className=\"bg-primary/10 border-primary/20\">\n                     <Timer className=\"h-4 w-4\" />\n                     <AlertTitle>Recommended Departure: {format(recommendedStartTime, \"hh:mm a\")}</AlertTitle>\n                     <AlertDescription>\n                        To arrive for pickup at {format(scheduledTime, \"hh:mm a\")}, you should depart around the recommended time.\n                     </AlertDescription>\n                </Alert>\n\n                {trip.distance && (\n                     <div className=\"border rounded-lg p-3\">\n                        <div className=\"flex items-center justify-between text-sm\">\n                            <div className=\"flex items-center gap-2 text-muted-foreground\">\n                                <Milestone className=\"h-4 w-4\" />\n                                <span>Total Distance</span>\n                            </div>\n                            <span className=\"font-semibold text-base\">{trip.distance?.toFixed(1)} km</span>\n                        </div>\n                    </div>\n                )}\n\n                <div className=\"grid sm:grid-cols-2 gap-4\">\n                    <div className=\"flex items-start gap-3\">\n                        <MapPin className=\"h-5 w-5 text-primary mt-1 flex-shrink-0\" />\n                        <div>\n                            <p className=\"font-medium\">From</p>\n                            <p className=\"text-muted-foreground\">{trip.pickupLocation.address}</p>\n                        </div>\n                    </div>\n                    <div className=\"flex items-start gap-3\">\n                        <MapPin className=\"h-5 w-5 text-green-500 mt-1 flex-shrink-0\" />\n                        <div>\n                            <p className=\"font-medium\">To</p>\n                            <p className=\"text-muted-foreground\">{trip.dropoffLocation.address}</p>\n                        </div>\n                    </div>\n                </div>\n\n                {trip.type === 'PASSENGER' && (\n                    <>\n                        <Separator />\n                        <div className=\"grid sm:grid-cols-2 gap-4\">\n                            <div className=\"flex items-start gap-3\">\n                                <User className=\"h-5 w-5 text-primary mt-1\" />\n                                <div>\n                                    <p className=\"font-medium\">Customer</p>\n                                    <p className=\"text-muted-foreground\">John Doe</p>\n                                </div>\n                            </div>\n                            <div className=\"flex items-start gap-3\">\n                                <Package className=\"h-5 w-5 text-primary mt-1\" />\n                                <div>\n                                    <p className=\"font-medium\">Extras</p>\n                                    <p className=\"text-muted-foreground\">Child Seat, 2x Water Bottle</p>\n                                </div>\n                            </div>\n                        </div>\n                    </>\n                )}\n                \n                <Button className=\"w-full\">\n                    <MapPin className=\"mr-2 h-4 w-4\" /> Open in Maps\n                </Button>\n\n                {showOtpPrompt && (\n                    <Alert>\n                        <ShieldCheck className=\"h-4 w-4\"/>\n                        <AlertTitle>Confirm with Customer</AlertTitle>\n                        <AlertDescription>\n                           <p className=\"mb-2\">Please ask the customer for the OTP to proceed to status: <span className=\"font-semibold\">{statusConfig[getNextStatusAfterOtp()].label}</span></p>\n                           <div className=\"flex gap-2\">\n                             <Input \n                                type=\"text\" \n                                placeholder=\"Enter 4-digit OTP\" \n                                value={otp} \n                                onChange={(e) => setOtp(e.target.value)}\n                                maxLength={4}\n                              />\n                             <Button onClick={handleOtpSubmit}>Submit</Button>\n                           </div>\n                        </AlertDescription>\n                    </Alert>\n                )}\n                \n                 <div className=\"flex items-center w-full gap-4\">\n                    <Clock className=\"h-5 w-5 text-muted-foreground\" />\n                    <Select onValueChange={(value: TripStatus) => handleStatusChange(value)} value={currentStatus}>\n                        <SelectTrigger className=\"w-full\">\n                            <SelectValue placeholder=\"Update job status\" />\n                        </SelectTrigger>\n                        <SelectContent>\n                            {tripStatuses.map(status => (\n                                <SelectItem key={status} value={status}>\n                                    <StatusBadge status={status} dot={false} className=\"border-none shadow-none\" />\n                                </SelectItem>\n                            ))}\n                        </SelectContent>\n                    </Select>\n                </div>\n\n                <Separator />\n\n                <div>\n                    <div className=\"flex items-center gap-2 text-sm font-medium mb-2\">\n                        <History className=\"h-4 w-4\" />\n                        <span>Status History</span>\n                    </div>\n                    <div className=\"space-y-2 text-sm\">\n                        {statusHistory.map((event, index) => (\n                            <div key={index} className=\"flex justify-between items-center text-muted-foreground\">\n                                <StatusBadge status={event.status} size=\"sm\" />\n                                <span>{format(event.timestamp, \"hh:mm:ss a\")}</span>\n                            </div>\n                        ))}\n                    </div>\n                </div>\n\n            </CardContent>\n        </Card>\n    );\n}\nconst statusConfig: Record<TripStatus, { label: string }> = {\n  // Trip Status\n  PENDING: { label: \"Pending\" },\n  ACCEPTED: { label: \"Accepted\" },\n  TO_PICKUP: { label: \"To Pickup\" },\n  AT_PICKUP: { label: \"At Pickup\" },\n  POB: { label: \"POB\" },\n  ON_ROUTE: { label: \"On Route\" },\n  AT_DROPOFF: { label: \"At Dropoff\" },\n  UNLOADING: { label: \"Unloading\" },\n  COMPLETED: { label: \"Completed\" },\n  CANCELLED: { label: \"Cancelled\" },\n  LOADING: { label: \"Loading\" },\n  AT_WORK: { label: \"At Work\" },\n  EMPTY: { label: \"Empty\" },\n  ARRIVED: { label: \"Arrived\" },\n  BOARDED: { label: \"Boarded\" },\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1854, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nexport interface TextareaProps\n  extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAKA,MAAM,yBAAW,mNAAgB,CAC/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,wSACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,SAAS,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 1881, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/alert-dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AAEA;AACA;AANA;;;;;;AAQA,MAAM,cAAc,mLAAyB;AAE7C,MAAM,qBAAqB,sLAA4B;AAEvD,MAAM,oBAAoB,qLAA2B;AAErD,MAAM,mCAAqB,mNAAgB,CAGzC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,sLAA4B;QAC3B,WAAW,IAAA,yHAAE,EACX,2JACA;QAED,GAAG,KAAK;QACT,KAAK;;;;;;AAGT,mBAAmB,WAAW,GAAG,sLAA4B,CAAC,WAAW;AAEzE,MAAM,mCAAqB,mNAAgB,CAGzC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;;0BACC,8OAAC;;;;;0BACD,8OAAC,sLAA4B;gBAC3B,KAAK;gBACL,WAAW,IAAA,yHAAE,EACX,+fACA;gBAED,GAAG,KAAK;;;;;;;;;;;;AAIf,mBAAmB,WAAW,GAAG,sLAA4B,CAAC,WAAW;AAEzE,MAAM,oBAAoB,CAAC,EACzB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,oDACA;QAED,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG;AAEhC,MAAM,oBAAoB,CAAC,EACzB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,yHAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG;AAEhC,MAAM,iCAAmB,mNAAgB,CAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,oLAA0B;QACzB,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,yBAAyB;QACtC,GAAG,KAAK;;;;;;AAGb,iBAAiB,WAAW,GAAG,oLAA0B,CAAC,WAAW;AAErE,MAAM,uCAAyB,mNAAgB,CAG7C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,0LAAgC;QAC/B,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,uBAAuB,WAAW,GAChC,0LAAgC,CAAC,WAAW;AAE9C,MAAM,kCAAoB,mNAAgB,CAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,qLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,yHAAE,EAAC,IAAA,oJAAc,KAAI;QAC/B,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG,qLAA2B,CAAC,WAAW;AAEvE,MAAM,kCAAoB,mNAAgB,CAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,qLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,yHAAE,EACX,IAAA,oJAAc,EAAC;YAAE,SAAS;QAAU,IACpC,gBACA;QAED,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG,qLAA2B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 2017, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/data.ts"],"sourcesContent":["import type { Driver, Vehicle, Trip, User, Conversation, DailyTripStats, RiskLevel } from './types';\nimport { subHours, subMinutes, formatISO, format, subDays, addMonths, addYears } from 'date-fns';\n\nexport const users: User[] = [\n  { id: 'user-001', name: 'Saleh Al-Mansoori', email: 'saleh.mansoori@example.com', role: 'DRIVER', isActive: true, phone: '+966-50-123-4567' },\n  { id: 'user-002', name: 'Fatima Al-Jameel', email: 'fatima.jameel@example.com', role: 'DRIVER', isActive: true, phone: '+966-50-234-5678' },\n  { id: 'user-003', name: 'Khalid Al-Harbi', email: 'khalid.harbi@example.com', role: 'DRIVER', isActive: true, phone: '+966-50-345-6789' },\n  { id: 'user-004', name: 'Noura Al-Saud', email: 'noura.saud@example.com', role: 'DRIVER', isActive: true, phone: '+966-50-456-7890' },\n  { id: 'user-005', name: 'Tariq Al-Ghamdi', email: 'tariq.ghamdi@example.com', role: 'HEAVY_DRIVER', isActive: true, phone: '+966-50-567-8901' },\n  { id: 'user-006', name: 'Aisha Al-Otaibi', email: 'aisha.otaibi@example.com', role: 'HEAVY_DRIVER', isActive: true, phone: '+966-50-678-9012' },\n  { id: 'user-007', name: 'Mohammed Al-Zahrani', email: 'mohammed.zahrani@example.com', role: 'DRIVER', isActive: false, phone: '+966-50-789-0123' },\n  { id: 'user-008', name: 'Laila Al-Qahtani', email: 'laila.qahtani@example.com', role: 'DRIVER', isActive: true, phone: '+966-50-890-1234' },\n  { id: 'user-009', name: 'Youssef Al-Shehri', email: 'youssef.shehri@example.com', role: 'HEAVY_DRIVER', isActive: true, phone: '+966-50-901-2345' },\n  { id: 'user-010', name: 'Reem Al-Mutairi', email: 'reem.mutairi@example.com', role: 'DRIVER', isActive: true, phone: '+966-55-123-4567' },\n  { id: 'user-011', name: 'Abdullah Al-Dossary', email: 'abdullah.dossary@example.com', role: 'HEAVY_DRIVER', isActive: true, phone: '+966-55-234-5678' },\n  { id: 'user-012', name: 'Sara Al-Anazi', email: 'sara.anazi@example.com', role: 'DRIVER', isActive: true, phone: '+966-55-345-6789' },\n  { id: 'user-013', name: 'Fahad Al-Shammeri', email: 'fahad.shammeri@example.com', role: 'HEAVY_DRIVER', isActive: true, phone: '+966-55-456-7890' },\n  { id: 'user-014', name: 'Hanan Al-Maliki', email: 'hanan.maliki@example.com', role: 'HEAVY_DRIVER', isActive: true, phone: '+966-55-567-8901' },\n  { id: 'user-015', name: 'Ibrahim Al-Johani', email: 'ibrahim.johani@example.com', role: 'DRIVER', isActive: true, phone: '+966-55-678-9012' },\n];\n\nusers[10].role = 'HEAVY_DRIVER';\nusers[13].role = 'HEAVY_DRIVER';\n\nexport let vehicles: Vehicle[] = [\n  { id: 'vehicle-001', plateNumber: 'A123BC', vin: 'VIN001', type: 'PREMIUM_SEDAN', category: 'PASSENGER', capacity: 4, currentFuel: 75, status: 'ON_TRIP', currentLocation: { lat: 24.7136, lng: 46.6753 }, driverId: 'driver-001', registrationExpiry: addYears(new Date(), 1).toISOString(), insuranceExpiry: addMonths(new Date(), 6).toISOString(), nextMaintenance: '2024-08-15' },\n  { id: 'vehicle-002', plateNumber: 'B456DE', vin: 'VIN002', type: 'SUV', category: 'PASSENGER', capacity: 6, currentFuel: 90, status: 'AVAILABLE', currentLocation: { lat: 24.7742, lng: 46.7386 }, driverId: 'driver-002', registrationExpiry: addYears(new Date(), 2).toISOString(), insuranceExpiry: addMonths(new Date(), 11).toISOString(), nextMaintenance: '2024-09-01' },\n  { id: 'vehicle-003', plateNumber: 'C789FG', vin: 'VIN003', type: 'TRUCK_5T', category: 'FREIGHT', capacity: 5000, currentFuel: 60, status: 'AVAILABLE', currentLocation: { lat: 21.4225, lng: 39.8262 }, driverId: 'driver-005', registrationExpiry: addMonths(new Date(), 2).toISOString(), insuranceExpiry: addMonths(new Date(), 2).toISOString(), nextMaintenance: '2024-07-30' },\n  { id: 'vehicle-004', plateNumber: 'D012HI', vin: 'VIN004', type: 'MINI_BUS', category: 'PASSENGER', capacity: 15, currentFuel: 40, status: 'MAINTENANCE', currentLocation: { lat: 26.3986, lng: 50.2083 }, registrationExpiry: subDays(new Date(), 10).toISOString(), insuranceExpiry: subDays(new Date(), 5).toISOString(), nextMaintenance: '2024-07-25' },\n  { id: 'vehicle-005', plateNumber: 'E345JK', vin: 'VIN005', type: 'SEDAN', category: 'PASSENGER', capacity: 4, currentFuel: 100, status: 'AVAILABLE', currentLocation: { lat: 24.7400, lng: 46.6500 }, driverId: 'driver-010', registrationExpiry: addYears(new Date(), 1).toISOString(), insuranceExpiry: addMonths(new Date(), 8).toISOString(), nextMaintenance: '2024-10-10' },\n  { id: 'vehicle-006', plateNumber: 'F678LM', vin: 'VIN006', type: 'TRUCK_10T', category: 'FREIGHT', capacity: 10000, currentFuel: 80, status: 'ON_TRIP', currentLocation: { lat: 24.8033, lng: 46.7667 }, driverId: 'driver-009', registrationExpiry: addMonths(new Date(), 9).toISOString(), insuranceExpiry: addMonths(new Date(), 9).toISOString(), nextMaintenance: '2024-08-20' },\n  { id: 'vehicle-007', plateNumber: 'G901NO', vin: 'VIN007', type: 'SUV', category: 'PASSENGER', capacity: 6, currentFuel: 55, status: 'AVAILABLE', currentLocation: { lat: 21.5433, lng: 39.1728 }, driverId: 'driver-008', registrationExpiry: addMonths(new Date(), 7).toISOString(), insuranceExpiry: addMonths(new Date(), 5).toISOString(), nextMaintenance: '2024-11-05' },\n  { id: 'vehicle-008', plateNumber: 'H234PQ', vin: 'VIN008', type: 'LUXURY_CAR', category: 'PASSENGER', capacity: 4, currentFuel: 25, status: 'AVAILABLE', currentLocation: { lat: 21.4858, lng: 39.1925 }, registrationExpiry: addYears(new Date(), 3).toISOString(), insuranceExpiry: addYears(new Date(), 1).toISOString(), nextMaintenance: '2024-09-12' },\n  { id: 'vehicle-009', plateNumber: 'I567RS', vin: 'VIN009', type: 'FORKLIFT', category: 'EQUIPMENT', capacity: 2000, currentFuel: 95, status: 'OUT_OF_SERVICE', currentLocation: { lat: 26.2167, lng: 50.1833 } },\n  { id: 'vehicle-010', plateNumber: 'J890TU', vin: 'VIN010', type: 'LIGHT_BUS', category: 'PASSENGER', capacity: 25, currentFuel: 70, status: 'AVAILABLE', currentLocation: { lat: 24.6877, lng: 46.7219 }, driverId: 'driver-011', registrationExpiry: addMonths(new Date(), 14).toISOString(), insuranceExpiry: addMonths(new Date(), 10).toISOString(), nextMaintenance: '2024-12-01' },\n  { id: 'vehicle-011', plateNumber: 'K123VW', vin: 'VIN011', type: 'TRUCK_15T', category: 'FREIGHT', capacity: 15000, currentFuel: 50, status: 'AVAILABLE', currentLocation: { lat: 21.3891, lng: 39.8579 }, driverId: 'driver-013', registrationExpiry: addMonths(new Date(), 4).toISOString(), insuranceExpiry: addMonths(new Date(), 4).toISOString(), nextMaintenance: '2024-08-22' },\n  { id: 'vehicle-012', plateNumber: 'L456XY', vin: 'VIN012', type: 'SEDAN', category: 'PASSENGER', capacity: 4, currentFuel: 85, status: 'AVAILABLE', currentLocation: { lat: 24.6333, lng: 46.7167 }, driverId: 'driver-014', registrationExpiry: subDays(new Date(), 30).toISOString(), insuranceExpiry: addMonths(new Date(), 1).toISOString(), nextMaintenance: '2024-10-18' },\n  { id: 'vehicle-013', plateNumber: 'M789ZA', vin: 'VIN013', type: 'MPV', category: 'PASSENGER', capacity: 7, currentFuel: 65, status: 'AVAILABLE', currentLocation: { lat: 21.6167, lng: 39.1500 }, registrationExpiry: addMonths(new Date(), 5).toISOString(), insuranceExpiry: addMonths(new Date(), 5).toISOString(), nextMaintenance: '2024-11-25' },\n  { id: 'vehicle-014', plateNumber: 'N012AB', vin: 'VIN014', type: 'HEAVY_BUS', category: 'PASSENGER', capacity: 50, currentFuel: 78, status: 'MAINTENANCE', currentLocation: { lat: 24.7136, lng: 46.6753 }, registrationExpiry: addMonths(new Date(), 20).toISOString(), insuranceExpiry: addMonths(new Date(), 9).toISOString(), nextMaintenance: '2024-07-28' },\n  { id: 'vehicle-015', plateNumber: 'P345CD', vin: 'VIN015', type: 'FLATBED', category: 'FREIGHT', capacity: 20000, currentFuel: 92, status: 'AVAILABLE', currentLocation: { lat: 26.4333, lng: 50.1167 }, driverId: 'driver-006', registrationExpiry: addMonths(new Date(), 18).toISOString(), insuranceExpiry: addMonths(new Date(), 12).toISOString(), nextMaintenance: '2024-09-30' },\n];\n\nconst riskLevels: RiskLevel[] = ['LOW', 'LOW', 'LOW', 'MEDIUM', 'HIGH'];\n\nexport const drivers: Driver[] = [\n  { id: 'driver-001', userId: 'user-001', user: users[0], licenseNumber: 'D1234567', licenseExpiry: addYears(new Date(), 2).toISOString(), totalDutyHours: 8, currentStatus: 'ON_TRIP', fatigueLevel: 'HIGH', dutyStartTime: subHours(new Date(), 8).toISOString(), risk: 'HIGH' },\n  { id: 'driver-002', userId: 'user-002', user: users[1], licenseNumber: 'D2345678', licenseExpiry: addMonths(new Date(), 6).toISOString(), totalDutyHours: 4, currentStatus: 'AVAILABLE', fatigueLevel: 'LOW', dutyStartTime: subHours(new Date(), 4).toISOString(), risk: 'LOW' },\n  { id: 'driver-003', userId: 'user-003', user: users[2], licenseNumber: 'D3456789', licenseExpiry: subDays(new Date(), 90).toISOString(), totalDutyHours: 0, currentStatus: 'OFF_DUTY', fatigueLevel: 'LOW', risk: 'LOW' },\n  { id: 'driver-004', userId: 'user-004', user: users[3], licenseNumber: 'D4567890', licenseExpiry: addYears(new Date(), 1).toISOString(), totalDutyHours: 12, currentStatus: 'FORCED_REST', fatigueLevel: 'CRITICAL', dutyStartTime: subHours(new Date(), 12).toISOString(), risk: 'HIGH' },\n  { id: 'driver-005', userId: 'user-005', user: users[4], licenseNumber: 'D5678901', licenseExpiry: addMonths(new Date(), 3).toISOString(), totalDutyHours: 6, currentStatus: 'AVAILABLE', fatigueLevel: 'MEDIUM', dutyStartTime: subHours(new Date(), 6).toISOString(), risk: 'MEDIUM' },\n  { id: 'driver-006', userId: 'user-006', user: users[5], licenseNumber: 'D6789012', licenseExpiry: addMonths(new Date(), 8).toISOString(), totalDutyHours: 2, currentStatus: 'AVAILABLE', fatigueLevel: 'LOW', dutyStartTime: subHours(new Date(), 2).toISOString(), risk: 'LOW' },\n  { id: 'driver-007', userId: 'user-007', user: users[6], licenseNumber: 'D7890123', licenseExpiry: addYears(new Date(), 5).toISOString(), totalDutyHours: 0, currentStatus: 'OFF_DUTY', fatigueLevel: 'LOW', risk: 'LOW' },\n  { id: 'driver-008', userId: 'user-008', user: users[7], licenseNumber: 'D8901234', licenseExpiry: addMonths(new Date(), 9).toISOString(), totalDutyHours: 7, currentStatus: 'ON_DUTY', fatigueLevel: 'MEDIUM', dutyStartTime: subHours(new Date(), 7).toISOString(), risk: 'MEDIUM' },\n  { id: 'driver-009', userId: 'user-009', user: users[8], licenseNumber: 'D9012345', licenseExpiry: addMonths(new Date(), 1).toISOString(), totalDutyHours: 9, currentStatus: 'ON_TRIP', fatigueLevel: 'HIGH', dutyStartTime: subHours(new Date(), 9).toISOString(), risk: 'HIGH' },\n  { id: 'driver-010', userId: 'user-010', user: users[9], licenseNumber: 'D0123456', licenseExpiry: addYears(new Date(), 2).toISOString(), totalDutyHours: 1, currentStatus: 'AVAILABLE', fatigueLevel: 'LOW', dutyStartTime: subHours(new Date(), 1).toISOString(), risk: 'LOW' },\n  { id: 'driver-011', userId: 'user-011', licenseNumber: 'D1123456', user: users[10], licenseExpiry: addYears(new Date(), 3).toISOString(), totalDutyHours: 5, currentStatus: 'ON_DUTY', fatigueLevel: 'MEDIUM', dutyStartTime: subHours(new Date(), 5).toISOString(), risk: 'MEDIUM' },\n  { id: 'driver-012', userId: 'user-012', licenseNumber: 'D1223456', user: users[11], licenseExpiry: subDays(new Date(), 5).toISOString(), totalDutyHours: 0, currentStatus: 'OFF_DUTY', fatigueLevel: 'LOW', risk: 'LOW' },\n  { id: 'driver-013', userId: 'user-013', licenseNumber: 'D1323456', user: users[12], licenseExpiry: addMonths(new Date(), 7).toISOString(), totalDutyHours: 10, currentStatus: 'ON_DUTY', fatigueLevel: 'HIGH', dutyStartTime: subHours(new Date(), 10).toISOString(), risk: 'HIGH' },\n  { id: 'driver-014', userId: 'user-014', licenseNumber: 'D1423456', user: users[13], licenseExpiry: addMonths(new Date(), 11).toISOString(), totalDutyHours: 3, currentStatus: 'AVAILABLE', fatigueLevel: 'LOW', dutyStartTime: subHours(new Date(), 3).toISOString(), risk: 'LOW' },\n  { id: 'driver-015', userId: 'user-015', licenseNumber: 'D1523456', user: users[14], licenseExpiry: addYears(new Date(), 4).toISOString(), totalDutyHours: 0, currentStatus: 'OFF_DUTY', fatigueLevel: 'LOW', risk: 'LOW' },\n].map((d, i) => ({ ...d, vehicle: vehicles.find(v => v.driverId === d.id), vehicleId: vehicles.find(v => v.driverId === d.id)?.id, risk: riskLevels[i % riskLevels.length] }));\n\nvehicles = vehicles.map(v => ({\n  ...v,\n  driver: drivers.find(d => d.id === v.driverId)\n}));\n\nconst now = new Date();\nexport let trips: Trip[] = [\n  { id: 'trip-001', jobId: 'JOB-9A4B1C', type: 'PASSENGER', status: 'POB', pickupLocation: { lat: 24.9876, lng: 46.6243, address: 'King Khalid International Airport, Riyadh' }, dropoffLocation: { lat: 24.7136, lng: 46.6753, address: 'Kingdom Centre, Riyadh' }, scheduledAt: formatISO(subHours(now, 2)), vehicleId: 'vehicle-001', driverId: 'driver-001', distance: 35, fare: 120.50, estimatedDuration: 0 },\n  { id: 'trip-002', jobId: 'JOB-8D7E6F', type: 'SHIPMENT', status: 'COMPLETED', pickupLocation: { lat: 21.4225, lng: 39.8262, address: 'Jeddah Islamic Port' }, dropoffLocation: { lat: 21.5433, lng: 39.1728, address: 'Al-Balad Warehouse, Jeddah' }, scheduledAt: formatISO(subHours(now, 4)), completedAt: formatISO(subHours(now, 2)), vehicleId: 'vehicle-003', driverId: 'driver-005', distance: 55, fare: 450.00, estimatedDuration: 0 },\n  { id: 'trip-003', jobId: 'JOB-7G6H5I', type: 'PASSENGER', status: 'PENDING', pickupLocation: { lat: 21.6167, lng: 39.1500, address: 'Red Sea Mall, Jeddah' }, dropoffLocation: { lat: 21.4858, lng: 39.1925, address: 'Jeddah Corniche' }, scheduledAt: formatISO(subHours(now, -2)), vehicleId: 'vehicle-005', driverId: 'driver-010', distance: 12, fare: 45.00, estimatedDuration: 0 },\n  { id: 'trip-004', jobId: 'JOB-6J5K4L', type: 'EQUIPMENT', status: 'AT_WORK', pickupLocation: { lat: 26.4333, lng: 50.1167, address: 'Dammam Industrial City 2' }, dropoffLocation: { lat: 26.3986, lng: 50.2083, address: 'KFUPM, Dhahran' }, scheduledAt: formatISO(subHours(now, -3)), vehicleId: 'vehicle-006', driverId: 'driver-009', distance: 30, fare: 750.00, estimatedDuration: 0 },\n  { id: 'trip-005', jobId: 'JOB-5L4M3N', type: 'PASSENGER', status: 'CANCELLED', pickupLocation: { lat: 24.6877, lng: 46.7219, address: 'Riyadh Park Mall' }, dropoffLocation: { lat: 24.7136, lng: 46.6753, address: 'Al-Masmak Fortress, Riyadh' }, scheduledAt: formatISO(subDays(now, 1)), vehicleId: 'vehicle-007', driverId: 'driver-008', distance: 15, fare: 55.00, estimatedDuration: 0 },\n  { id: 'trip-006', jobId: 'JOB-4N3O2P', type: 'SHIPMENT', status: 'COMPLETED', pickupLocation: { lat: 21.3891, lng: 39.8579, address: 'Makkah Industrial Area' }, dropoffLocation: { lat: 21.4225, lng: 39.8262, address: 'Abraj Al-Bait, Makkah' }, scheduledAt: formatISO(subDays(now, 1)), completedAt: formatISO(subDays(now, 1)), vehicleId: 'vehicle-011', driverId: 'driver-013', distance: 25, fare: 600.00, estimatedDuration: 0 },\n  { id: 'trip-007', jobId: 'JOB-3P2Q1R', type: 'PASSENGER', status: 'ON_ROUTE', pickupLocation: { lat: 24.6333, lng: 46.7167, address: 'Diriyah, Riyadh' }, dropoffLocation: { lat: 24.8033, lng: 46.7667, address: 'Riyadh Front' }, scheduledAt: formatISO(subHours(now, 1)), vehicleId: 'vehicle-008', driverId: 'driver-004', distance: 28, fare: 95.00, estimatedDuration: 0 },\n  { id: 'trip-008', jobId: 'JOB-2R1S0T', type: 'PASSENGER', status: 'PENDING', pickupLocation: { lat: 21.6167, lng: 39.1500, address: 'Mall of Arabia, Jeddah' }, dropoffLocation: { lat: 21.5433, lng: 39.1728, address: 'Jeddah Waterfront' }, scheduledAt: formatISO(subHours(now, -4)), vehicleId: 'vehicle-012', driverId: 'driver-014', distance: 18, fare: 65.00, estimatedDuration: 0 },\n  // Add more trips with recent completedAt dates\n  { id: 'trip-009', jobId: 'JOB-1S0T9U', type: 'SHIPMENT', status: 'COMPLETED', pickupLocation: { lat: 26.4207, lng: 50.0888, address: 'Dammam Port' }, dropoffLocation: { lat: 26.3986, lng: 50.2083, address: 'Al Khobar Warehouse' }, scheduledAt: formatISO(subDays(now, 2)), completedAt: formatISO(subDays(now, 2)), vehicleId: 'vehicle-015', driverId: 'driver-006', distance: 45, fare: 500.00, estimatedDuration: 0 },\n  { id: 'trip-010', jobId: 'JOB-0T9U8V', type: 'PASSENGER', status: 'COMPLETED', pickupLocation: { lat: 24.7136, lng: 46.6753, address: 'Kingdom Centre, Riyadh' }, dropoffLocation: { lat: 24.6877, lng: 46.7219, address: 'Riyadh Park Mall' }, scheduledAt: formatISO(subDays(now, 3)), completedAt: formatISO(subDays(now, 3)), vehicleId: 'vehicle-002', driverId: 'driver-002', distance: 15, fare: 60.00, estimatedDuration: 0 },\n  { id: 'trip-011', jobId: 'JOB-9U8V7W', type: 'PASSENGER', status: 'COMPLETED', pickupLocation: { lat: 24.7136, lng: 46.6753, address: 'Riyadh Gallery Mall' }, dropoffLocation: { lat: 24.7742, lng: 46.7386, address: 'KAFD, Riyadh' }, scheduledAt: formatISO(subDays(now, 4)), completedAt: formatISO(subDays(now, 4)), vehicleId: 'vehicle-001', driverId: 'driver-001', distance: 10, fare: 40.00, estimatedDuration: 0 },\n  { id: 'trip-012', jobId: 'JOB-8V7W6X', type: 'PASSENGER', status: 'COMPLETED', pickupLocation: { lat: 21.4858, lng: 39.1925, address: 'Jeddah Airport' }, dropoffLocation: { lat: 21.4225, lng: 39.8262, address: 'Al-Haram, Mecca' }, scheduledAt: formatISO(subDays(now, 5)), completedAt: formatISO(subDays(now, 5)), vehicleId: 'vehicle-007', driverId: 'driver-008', distance: 95, fare: 250.00, estimatedDuration: 0 },\n  { id: 'trip-013', jobId: 'JOB-7W6X5Y', type: 'SHIPMENT', status: 'COMPLETED', pickupLocation: { lat: 24.7136, lng: 46.6753, address: 'Riyadh Dry Port' }, dropoffLocation: { lat: 26.4207, lng: 50.0888, address: 'Dammam Industrial City' }, scheduledAt: formatISO(subDays(now, 6)), completedAt: formatISO(subDays(now, 6)), vehicleId: 'vehicle-006', driverId: 'driver-009', distance: 410, fare: 1800.00, estimatedDuration: 0 },\n];\n\ntrips = trips.map(trip => ({\n  ...trip,\n  vehicle: vehicles.find(v => v.id === trip.vehicleId),\n  driver: drivers.find(d => d.id === trip.driverId),\n  estimatedDuration: trip.distance ? Math.round(trip.distance * 2.5) : 0,\n}));\n\n// This simulates the pre-aggregated data that would come from `dailyTripStats/{YYYY-MM-DD}` in Firestore\nexport const dailyTripStats: DailyTripStats = {\n    docId: format(new Date(), 'yyyy-MM-dd'),\n    counts: {\n        PREMIUM_SEDAN: 1, // trip-001 (active)\n        TRUCK_5T: 1, // trip-002 (completed today)\n        // SEDAN: 0, trip-003 is pending, not active\n        TRUCK_10T: 1, // trip-004 (active)\n        // SUV: 0, trip-005 was cancelled, not active\n        // TRUCK_15T: 0, trip-006 completed yesterday\n        LUXURY_CAR: 1, // trip-007 (active)\n        // Other types have 0 active/completed trips today\n    }\n}\n\n\nexport const conversations: Conversation[] = [\n  {\n    id: 'conv-001',\n    contactName: 'Passenger JOB-9A4B1C',\n    contactType: 'Passenger',\n    lastMessage: 'Thank you for the ride!',\n    lastMessageTime: formatISO(subMinutes(new Date(), 5)),\n    isUnread: false,\n    messages: [\n      { id: 'msg-1-1', sender: 'other', content: 'Hi, I am at gate 3. Where are you?', timestamp: formatISO(subMinutes(new Date(), 15)) },\n      { id: 'msg-1-2', sender: 'me', content: 'On my way, will be there in 2 minutes. I am in a black Mercedes.', timestamp: formatISO(subMinutes(new Date(), 14)) },\n      { id: 'msg-1-3', sender: 'other', content: 'Great, see you soon.', timestamp: formatISO(subMinutes(new Date(), 13)) },\n      { id: 'msg-1-4', sender: 'other', content: 'Thank you for the ride!', timestamp: formatISO(subMinutes(new Date(), 5)) },\n    ],\n  },\n  {\n    id: 'conv-002',\n    contactName: 'Agent Saleh Al-Mansoori',\n    contactType: 'Agent',\n    lastMessage: 'Understood, proceeding to location.',\n    lastMessageTime: formatISO(subMinutes(new Date(), 22)),\n    isUnread: true,\n    messages: [\n      { id: 'msg-2-1', sender: 'me', content: 'Saleh, please proceed to Dammam for an urgent pickup. Job ID: JOB-XJ5K8L', timestamp: formatISO(subMinutes(new Date(), 25)) },\n      { id: 'msg-2-2', sender: 'other', content: 'Understood, proceeding to location.', timestamp: formatISO(subMinutes(new Date(), 22)) },\n    ],\n  },\n  {\n    id: 'conv-003',\n    contactName: 'Shipper - Aramco',\n    contactType: 'Shipper',\n    lastMessage: 'We need 2 more flatbeds for tomorrow morning. Can you confirm?',\n    lastMessageTime: formatISO(subHours(new Date(), 1)),\n    isUnread: true,\n    messages: [\n      { id: 'msg-3-1', sender: 'other', content: 'Hi, the container has been loaded. Your driver can depart.', timestamp: formatISO(subHours(new Date(), 2)) },\n      { id: 'msg-3-2', sender: 'me', content: 'Thank you for the update. We have informed the driver.', timestamp: formatISO(subHours(new Date(), 2)) },\n      { id: 'msg-3-3', sender: 'other', content: 'We need 2 more flatbeds for tomorrow morning. Can you confirm?', timestamp: formatISO(subHours(new Date(), 1)) },\n    ],\n  },\n  {\n    id: 'conv-004',\n    contactName: 'Driver Fatima Al-Jameel',\n    contactType: 'Driver',\n    lastMessage: 'My tire pressure is low, I need to find the nearest service station.',\n    lastMessageTime: formatISO(subMinutes(new Date(), 45)),\n    isUnread: true,\n    messages: [\n      { id: 'msg-4-1', sender: 'other', content: 'My tire pressure is low, I need to find the nearest service station.', timestamp: formatISO(subMinutes(new Date(), 45)) },\n      { id: 'msg-4-2', sender: 'me', content: 'Acknowledged. Sending you location of a nearby approved vendor.', timestamp: formatISO(subMinutes(new Date(), 44)) },\n    ],\n  },\n].map(c => ({...c, isUnread: c.messages[c.messages.length - 1]?.sender === 'other' }));\n\n    \n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3051, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/driver-app-client.tsx"],"sourcesContent":["\n\"use client\";\n\nimport type { Driver, Trip } from \"@/lib/types\";\nimport { useState, useEffect, useMemo, useRef } from \"react\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Label } from \"@/components/ui/label\";\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription, CardFooter } from \"@/components/ui/card\";\nimport { DriverChecklist } from \"./driver-checklist\";\nimport { CurrentJobCard } from \"./driver-current-job\";\nimport { Separator } from \"./ui/separator\";\nimport { Textarea } from \"./ui/textarea\";\nimport { Clock, BedDouble, AlertTriangle, Check, X, Briefcase, Search, LogIn, Wifi, CheckCircle, Ban } from \"lucide-react\";\nimport { AlertDialog, AlertDialogContent, AlertDialogHeader, AlertDialogTitle, AlertDialogDescription, AlertDialogFooter, AlertDialogAction } from \"./ui/alert-dialog\";\nimport { Button } from \"./ui/button\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { Input } from \"./ui/input\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"./ui/select\";\nimport { trips } from \"@/lib/data\";\nimport { socketService } from \"@/lib/services/socketService\";\n\ntype ViewState = \"login\" | \"duty\";\n\ninterface DriverAppClientProps {\n  allDrivers: Driver[];\n  pendingTrips: Trip[];\n  appType: \"standard\" | \"heavy\";\n  initialDriverId?: string | null;\n  initialJobId?: string | null;\n}\n\nconst groomingItems = [\n  \"Uniform is clean and pressed\",\n  \"Proper identification worn\",\n  \"Clean shaven / Tidy beard\",\n  \"Professional demeanor\"\n];\n\nconst vehicleHealthItems = [\n  \"Tire pressure checked\",\n  \"Fuel level adequate\",\n  \"Engine oil level checked\",\n  \"Brakes and lights functional\",\n  \"Interior is clean\",\n  \"Exterior is clean\",\n  \"No warning lights on dashboard\",\n  \"Tool box checked\",\n  \"Spare wheel available\",\n  \"Safety triangle present\",\n  \"Fire extinguisher (expiry & pressure)\",\n  \"First-aid kit (expiry)\",\n  \"Visibility Jacket\"\n];\n\ninterface PingData {\n  pingId: string;\n  from: string;\n}\n\nconst sendLocationReply = (pingId: string) => {\n    if (!navigator.geolocation) {\n        console.error(\"Geolocation is not supported by this browser.\");\n        return;\n    }\n    navigator.geolocation.getCurrentPosition(\n        (position) => {\n            const { latitude, longitude } = position.coords;\n            socketService.emit(\"location-reply\", {\n                pingId,\n                lat: latitude,\n                lng: longitude,\n                time: Date.now(),\n            });\n        },\n        (error) => {\n            console.error(\"Error getting location for ping reply:\", error);\n            socketService.emit(\"ping-response\", { pingId, response: \"ACK\", error: \"Location services disabled.\" });\n        }\n    );\n};\n\nconst showPingNotification = (data: PingData, onAck: () => void, onReject: () => void) => {\n  if (!('Notification' in window)) {\n    console.warn(\"This browser does not support desktop notification\");\n    return;\n  }\n  \n  const fireNotification = () => {\n    const notification = new Notification(\"Dispatcher Ping\", {\n      body: `You have been pinged by dispatcher ${data.from}. Please respond.`,\n      icon: \"/truck-logo.png\",\n      requireInteraction: true,\n    });\n\n    // In a real PWA, you would use service worker actions.\n    // For this demo, we'll just handle clicks.\n    notification.onclick = () => {\n        onAck();\n        notification.close();\n    }\n  }\n\n  if (Notification.permission === \"granted\") {\n    fireNotification();\n  } else if (Notification.permission !== \"denied\") {\n    Notification.requestPermission().then((permission) => {\n      if (permission === \"granted\") {\n        fireNotification();\n      }\n    });\n  }\n}\n\nexport function DriverAppClient({ allDrivers, pendingTrips, appType, initialDriverId, initialJobId }: DriverAppClientProps) {\n  const { toast } = useToast();\n  const [viewState, setViewState] = useState<ViewState>(\"login\");\n  const [selectedDriverId, setSelectedDriverId] = useState<string | null>(initialDriverId || null);\n  const [otp, setOtp] = useState(\"\");\n\n  const [driver, setDriver] = useState<Driver | null>(null);\n  const [isSignedOn, setIsSignedOn] = useState(false);\n  const [signInTime, setSignInTime] = useState<Date | null>(null);\n  const [currentTime, setCurrentTime] = useState<Date | null>(null);\n  const [showSummary, setShowSummary] = useState(false);\n  const [sessionHours, setSessionHours] = useState(0);\n  const [showDeclineMessage, setShowDeclineMessage] = useState(false);\n  const [declineReason, setDeclineReason] = useState(\"\");\n  const [groomingChecklistComplete, setGroomingChecklistComplete] = useState(false);\n  const [vehicleChecklistComplete, setVehicleChecklistComplete] = useState(false);\n  const [currentTrip, setCurrentTrip] = useState<Trip | undefined>(undefined);\n  const [jobAccepted, setJobAccepted] = useState(false);\n  const [activePing, setActivePing] = useState<PingData | null>(null);\n  \n  const heartbeatIntervalRef = useRef<NodeJS.Timeout | null>(null);\n\n\n  const availableDrivers = useMemo(() => {\n    if (appType === 'heavy') {\n      return allDrivers.filter(d => d.user.role === 'HEAVY_DRIVER');\n    }\n    return allDrivers.filter(d => d.user.role === 'DRIVER' || d.user.role === 'HEAVY_DRIVER');\n  }, [allDrivers, appType]);\n\n  // Effect to handle auto-login via URL params\n  useEffect(() => {\n    if (initialDriverId) {\n      const driverToLogin = allDrivers.find(d => d.id === initialDriverId);\n      if (driverToLogin) {\n        setDriver(driverToLogin);\n        setViewState(\"duty\");\n        setIsSignedOn(true); // Auto sign-on when coming from an assignment\n        toast({ title: \"Auto-Logged In\", description: `Welcome, ${driverToLogin.user.name}` });\n      }\n    }\n  }, [initialDriverId, allDrivers, toast]);\n\n  // Socket connection effect\n  useEffect(() => {\n    if (driver?.id && driver.user.role) {\n      socketService.connect(driver.id, driver.user.role);\n  \n      const handlePing = (data: PingData) => {\n        setActivePing(data);\n        showPingNotification(data, \n          () => handlePingResponse(data.pingId, \"ACK\"), \n          () => handlePingResponse(data.pingId, \"REJECT\")\n        );\n      };\n      \n      socketService.on('ping', handlePing);\n      \n      // Start heartbeat when signed on\n      if (isSignedOn) {\n        // Send initial heartbeat immediately on sign-on\n        socketService.emit(\"heartbeat\");\n        if (heartbeatIntervalRef.current) {\n          clearInterval(heartbeatIntervalRef.current);\n        }\n        heartbeatIntervalRef.current = setInterval(() => {\n          socketService.emit(\"heartbeat\");\n        }, 15000);\n      } else {\n        if (heartbeatIntervalRef.current) {\n          clearInterval(heartbeatIntervalRef.current);\n        }\n      }\n  \n      return () => {\n        socketService.off('ping', handlePing);\n        if (heartbeatIntervalRef.current) {\n          clearInterval(heartbeatIntervalRef.current);\n        }\n        socketService.disconnect();\n      };\n    }\n  }, [driver, isSignedOn]);\n\n\n  useEffect(() => {\n    if (typeof window !== 'undefined') {\n      setCurrentTime(new Date());\n    }\n\n    const timer = setInterval(() => {\n      setCurrentTime(new Date());\n    }, 1000);\n    return () => clearInterval(timer);\n  }, []);\n\n  useEffect(() => {\n    if (isSignedOn) {\n      if (!signInTime) {\n        setSignInTime(new Date());\n      }\n      if (!currentTrip && pendingTrips.length > 0) {\n        const assignedTrip = pendingTrips[0];\n        setCurrentTrip(assignedTrip);\n        toast({\n          title: \"New Job Assigned\",\n          description: `Job ${assignedTrip.jobId} has been allocated to you.`,\n        });\n      }\n    } else if (signInTime) {\n      const duration = (new Date().getTime() - signInTime.getTime()) / (1000 * 60 * 60);\n      setSessionHours(duration);\n      setShowSummary(true);\n      setSignInTime(null);\n      setCurrentTrip(undefined);\n    }\n  }, [isSignedOn, signInTime, currentTrip, pendingTrips, toast]);\n\n  useEffect(() => {\n    if (currentTrip) {\n      setJobAccepted(currentTrip.status !== 'PENDING');\n      setShowDeclineMessage(false);\n      setGroomingChecklistComplete(false);\n      setVehicleChecklistComplete(false);\n    }\n  }, [currentTrip?.id]);\n\n  const handleLogin = () => {\n    if (!selectedDriverId) {\n      toast({ variant: \"destructive\", title: \"Please select your Driver ID.\" });\n      return;\n    }\n    if (otp !== \"1234\") {\n      toast({ variant: \"destructive\", title: \"Invalid OTP\", description: \"Please enter the correct OTP (hint: 1234).\" });\n      return;\n    }\n    const selectedDriver = allDrivers.find(d => d.id === selectedDriverId);\n    if (selectedDriver) {\n      setDriver(selectedDriver);\n      setViewState(\"duty\");\n      setIsSignedOn(false); // Start as off-duty\n      toast({ title: \"Login Successful\", description: `Welcome, ${selectedDriver.user.name}` });\n    } else {\n      toast({ variant: \"destructive\", title: \"Driver not found\" });\n    }\n  };\n  \n  const handleLogout = () => {\n    if(isSignedOn) {\n      setIsSignedOn(false); // This will trigger the summary dialog\n    }\n    socketService.disconnect();\n    setViewState(\"login\");\n    setDriver(null);\n    setOtp(\"\");\n    setSelectedDriverId(null);\n  }\n\n  const handleAcceptJob = () => {\n    if (currentTrip) {\n      setJobAccepted(true);\n      const tripIndex = trips.findIndex(t => t.id === currentTrip.id);\n      if (tripIndex !== -1) {\n        trips[tripIndex].status = 'ACCEPTED';\n        setCurrentTrip(trips[tripIndex]);\n      }\n    }\n  };\n\n  const handleDecline = () => {\n    setShowDeclineMessage(true);\n  };\n  \n  const handleSendDeclineReason = () => {\n    if (!declineReason) {\n        toast({variant: 'destructive', title: \"Reason required\", description: \"Please provide a reason for declining.\"});\n        return;\n    }\n    if (currentTrip) {\n        const tripIndex = trips.findIndex(t => t.id === currentTrip.id);\n        if (tripIndex !== -1) {\n            trips[tripIndex].status = 'CANCELLED';\n            trips[tripIndex].notes = `Declined by driver: ${declineReason}`;\n        }\n        toast({ title: \"Job Declined\", description: \"Dispatch has been notified.\" });\n        setCurrentTrip(undefined);\n        setShowDeclineMessage(false);\n        setDeclineReason(\"\");\n    }\n  };\n\n  const handlePingResponse = (pingId: string, response: \"ACK\" | \"REJECT\") => {\n    if (response === 'ACK') {\n      sendLocationReply(pingId);\n      toast({title: \"Acknowledged\", description: \"Location sent to dispatcher.\"})\n    } else {\n      socketService.emit(\"ping-response\", { pingId, response: \"REJECT\", time: Date.now() });\n      toast({variant: \"destructive\", title: \"Rejected\", description: \"Dispatcher notified of rejection.\"})\n    }\n    setActivePing(null);\n  };\n\n  const closeSummary = () => {\n    setShowSummary(false);\n    if (sessionHours > 12) {\n      toast({\n        variant: \"destructive\",\n        title: \"Fatigue Alert\",\n        description: \"Driver has exceeded 12 hours of duty. Alert sent to control panel.\"\n      });\n    }\n  };\n\n  if (viewState === 'login') {\n    return (\n      <Card className=\"max-w-md mx-auto\">\n        <CardHeader>\n          <CardTitle>Driver Authentication</CardTitle>\n          <CardDescription>Please sign in to continue.</CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"driver-id\">Driver ID</Label>\n            <Select onValueChange={setSelectedDriverId} value={selectedDriverId || \"\"}>\n              <SelectTrigger id=\"driver-id\">\n                <SelectValue placeholder=\"Select your driver ID\" />\n              </SelectTrigger>\n              <SelectContent>\n                {availableDrivers.map(d => (\n                  <SelectItem key={d.id} value={d.id}>{d.user.name} ({d.id})</SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"otp\">One-Time Password (OTP)</Label>\n            <Input id=\"otp\" type=\"password\" value={otp} onChange={(e) => setOtp(e.target.value)} placeholder=\"Enter your OTP\" />\n          </div>\n        </CardContent>\n        <CardFooter>\n          <Button className=\"w-full\" onClick={handleLogin}>\n            <LogIn className=\"mr-2 h-4 w-4\" /> Sign In\n          </Button>\n        </CardFooter>\n      </Card>\n    );\n  }\n  \n  if (!driver) return null; // Should not happen in 'duty' state\n\n  const isNewJob = currentTrip?.status === 'PENDING';\n  const isJobActive = currentTrip && currentTrip.status !== 'COMPLETED' && currentTrip.status !== 'CANCELLED';\n  const allChecklistsComplete = groomingChecklistComplete && vehicleChecklistComplete;\n\n  return (\n    <div className=\"space-y-6\">\n       <div className=\"flex items-center justify-between\">\n         <div>\n           <h2 className=\"text-xl font-semibold\">Welcome, {driver.user.name}</h2>\n         </div>\n        <div className=\"flex items-center space-x-4\">\n          <div className=\"flex items-center space-x-2\">\n            <Switch\n              id=\"sign-on-switch\"\n              checked={isSignedOn}\n              onCheckedChange={setIsSignedOn}\n            />\n            <Label htmlFor=\"sign-on-switch\" className=\"text-lg\">\n              {isSignedOn ? \"On Duty\" : \"Off Duty\"}\n            </Label>\n          </div>\n          <Button variant=\"ghost\" size=\"sm\" onClick={handleLogout}>Logout</Button>\n        </div>\n      </div>\n      \n      {isSignedOn && signInTime && currentTime && (\n         <div className=\"text-right -mt-4\">\n            <div className=\"flex items-center justify-end gap-2 text-sm font-medium text-muted-foreground\">\n                <Clock className=\"h-4 w-4\" />\n                <span>{currentTime.toLocaleTimeString()}</span>\n            </div>\n            <p className=\"text-xs text-muted-foreground\">\n              Signed in at {signInTime.toLocaleTimeString()}\n            </p>\n          </div>\n      )}\n\n      {activePing && (\n        <Alert className=\"bg-blue-50 border-blue-200\">\n            <Wifi className=\"h-4 w-4 text-blue-600\" />\n            <AlertTitle className=\"text-blue-800\">Dispatcher Ping Received</AlertTitle>\n            <AlertDescription className=\"text-blue-700 flex justify-between items-center\">\n                <p>Please acknowledge this ping from dispatcher {activePing.from}.</p>\n                <div className=\"flex gap-2\">\n                    <Button size=\"sm\" onClick={() => handlePingResponse(activePing.pingId, \"ACK\")}>\n                        <CheckCircle className=\"mr-2 h-4 w-4\" /> ACK\n                    </Button>\n                    <Button size=\"sm\" variant=\"destructive\" onClick={() => handlePingResponse(activePing.pingId, \"REJECT\")}>\n                        <Ban className=\"mr-2 h-4 w-4\" /> Reject\n                    </Button>\n                </div>\n            </AlertDescription>\n        </Alert>\n      )}\n\n      <Separator />\n\n      {isSignedOn && (\n        <div className=\"animate-in fade-in-0 duration-500\">\n           <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\n              <DriverChecklist \n                  title=\"Grooming Standards\"\n                  items={groomingItems}\n                  onChecklistChange={setGroomingChecklistComplete}\n                  tripId={currentTrip?.id || \"none\"}\n              />\n              <DriverChecklist \n                  title=\"Vehicle Health\"\n                  items={vehicleHealthItems}\n                  onChecklistChange={setVehicleChecklistComplete}\n                  tripId={currentTrip?.id || \"none\"}\n              />\n          </div>\n            \n          <div className=\"grid lg:grid-cols-3 gap-6\">\n            <div className=\"lg:col-span-2\">\n              {isJobActive && jobAccepted ? (\n                <CurrentJobCard trip={currentTrip!} />\n              ) : isNewJob && !showDeclineMessage ? (\n                <Card className=\"flex flex-col items-center justify-center h-full min-h-[300px]\">\n                  <CardHeader className=\"text-center\">\n                    <Briefcase className=\"mx-auto h-12 w-12 text-primary\" />\n                    <CardTitle>New Job Available</CardTitle>\n                    <CardDescription>A new job has been assigned to you. Please review and respond.</CardDescription>\n                  </CardHeader>\n                  <CardContent className=\"w-full max-w-sm\">\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <Button variant=\"outline\" onClick={handleDecline}><X className=\"mr-2\" />Decline</Button>\n                      <Button onClick={handleAcceptJob} disabled={!allChecklistsComplete}><Check className=\"mr-2\" />Accept</Button>\n                    </div>\n                    {!allChecklistsComplete && (\n                      <p className=\"text-center text-xs text-muted-foreground mt-3\">\n                        Please complete all checklist items before accepting the job.\n                      </p>\n                    )}\n                  </CardContent>\n                </Card>\n              ) : showDeclineMessage ? (\n                <Card>\n                  <CardHeader>\n                    <CardTitle>Message to Agent</CardTitle>\n                    <CardDescription>Please state your reason for declining the job. This will be sent to the dispatch agent.</CardDescription>\n                  </CardHeader>\n                  <CardContent>\n                    <Textarea \n                      placeholder=\"e.g., Vehicle has a flat tire, End of my shift...\" \n                      value={declineReason}\n                      onChange={(e) => setDeclineReason(e.target.value)}\n                    />\n                  </CardContent>\n                  <CardFooter className=\"flex justify-end gap-2\">\n                    <Button variant=\"ghost\" onClick={() => setShowDeclineMessage(false)}>Cancel</Button>\n                    <Button onClick={handleSendDeclineReason}>Send Message</Button>\n                  </CardFooter>\n                </Card>\n              ) : (\n                <Card className=\"flex items-center justify-center h-full min-h-[300px] text-center\">\n                  <CardContent className=\"pt-6\">\n                    <Search className=\"mx-auto h-12 w-12 text-muted-foreground mb-4\" />\n                    <p className=\"text-lg font-medium\">Searching for Jobs...</p>\n                    <p className=\"text-muted-foreground\">Looking for the next available job in your area.</p>\n                  </CardContent>\n                </Card>\n              )}\n            </div>\n            <div className=\"space-y-6\">\n              <Card>\n                <CardHeader>\n                  <CardTitle>Notes</CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <Textarea placeholder=\"Add any notes about the vehicle or job...\" />\n                </CardContent>\n              </Card>\n              {!isJobActive && (\n                <Card>\n                  <CardHeader className=\"flex flex-row items-center gap-3 space-y-0\">\n                    <BedDouble className=\"h-6 w-6 text-muted-foreground\" />\n                    <CardTitle>Resting</CardTitle>\n                  </CardHeader>\n                  <CardContent>\n                    <p className=\"text-muted-foreground\">You are currently on duty but not on a trip. Your resting hours are being logged.</p>\n                    <Button variant=\"secondary\" className=\"w-full mt-4\">Return to Station (Log Dead KMs)</Button>\n                  </CardContent>\n                </Card>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n\n      <AlertDialog open={showSummary} onOpenChange={setShowSummary}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>End of Duty Summary</AlertDialogTitle>\n            <AlertDialogDescription>\n              Summary of your session on {new Date().toLocaleDateString()}.\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <div className=\"space-y-4 text-sm\">\n            <div className=\"flex justify-between\">\n              <span className=\"text-muted-foreground\">Total Trips Completed</span>\n              <span className=\"font-medium\">2</span>\n            </div>\n            <div className=\"flex justify-between\">\n              <span className=\"text-muted-foreground\">Total Hours Worked</span>\n              <span className=\"font-medium\">{sessionHours.toFixed(2)} hrs</span>\n            </div>\n            <div className=\"flex justify-between\">\n              <span className=\"text-muted-foreground\">Extra Hours (8 hrs)</span>\n              <span className=\"font-medium\">{Math.max(0, sessionHours - 8).toFixed(2)} hrs</span>\n            </div>\n            {sessionHours > 12 && (\n              <div className=\"p-3 rounded-md bg-destructive/10 text-destructive-foreground flex items-start gap-3\">\n                <AlertTriangle className=\"h-5 w-5 mt-0.5\" />\n                <div>\n                  <p className=\"font-semibold\">Fatigue Alert</p>\n                  <p>You have worked over 12 hours. This will be reported for fatigue monitoring.</p>\n                </div>\n              </div>\n            )}\n          </div>\n          <AlertDialogFooter>\n            <AlertDialogAction onClick={closeSummary}>Acknowledge & Logout</AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4344, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/driver-app-page-content.tsx"],"sourcesContent":["\n\"use client\";\n\nimport { PageHeader } from \"@/components/page-header\";\nimport { DriverAppClient } from \"@/components/driver-app-client\";\nimport { drivers, trips } from \"@/lib/data\";\nimport { useSearchParams } from \"next/navigation\";\nimport { useMemo } from \"react\";\n\nexport function DriverAppPageContent() {\n  const searchParams = useSearchParams();\n  const allDrivers = drivers;\n  \n  const initialDriverId = searchParams.get('driverId');\n  const initialJobId = searchParams.get('jobId');\n\n  const pendingTrips = useMemo(() => {\n    // If a jobId is passed, make sure that job is at the top of the list for the driver.\n    if (initialJobId) {\n        const targetTrip = trips.find(t => t.jobId === initialJobId);\n        const otherPending = trips.filter(t => t.status === 'PENDING' && t.jobId !== initialJobId);\n        return targetTrip ? [targetTrip, ...otherPending] : otherPending;\n    }\n    return trips.filter(t => t.status === 'PENDING');\n  }, [initialJobId]);\n\n\n  return (\n    <>\n      <PageHeader\n        title=\"Driver App\"\n        description=\"This is your personal dashboard to manage your jobs and vehicle.\"\n      />\n      <DriverAppClient \n        allDrivers={allDrivers} \n        pendingTrips={pendingTrips} \n        appType=\"standard\"\n        initialDriverId={initialDriverId}\n        initialJobId={initialJobId}\n      />\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAQO,SAAS;IACd,MAAM,eAAe,IAAA,qJAAe;IACpC,MAAM,aAAa,6HAAO;IAE1B,MAAM,kBAAkB,aAAa,GAAG,CAAC;IACzC,MAAM,eAAe,aAAa,GAAG,CAAC;IAEtC,MAAM,eAAe,IAAA,gNAAO,EAAC;QAC3B,qFAAqF;QACrF,IAAI,cAAc;YACd,MAAM,aAAa,2HAAK,CAAC,IAAI,CAAC,CAAA,IAAK,EAAE,KAAK,KAAK;YAC/C,MAAM,eAAe,2HAAK,CAAC,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK,aAAa,EAAE,KAAK,KAAK;YAC7E,OAAO,aAAa;gBAAC;mBAAe;aAAa,GAAG;QACxD;QACA,OAAO,2HAAK,CAAC,MAAM,CAAC,CAAA,IAAK,EAAE,MAAM,KAAK;IACxC,GAAG;QAAC;KAAa;IAGjB,qBACE;;0BACE,8OAAC,kJAAU;gBACT,OAAM;gBACN,aAAY;;;;;;0BAEd,8OAAC,gKAAe;gBACd,YAAY;gBACZ,cAAc;gBACd,SAAQ;gBACR,iBAAiB;gBACjB,cAAc;;;;;;;;AAItB","debugId":null}}]
}