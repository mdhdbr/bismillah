{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/page-header.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\";\n\ntype PageHeaderProps = {\n  title: string;\n  description?: string;\n  action?: React.ReactNode;\n  className?: string;\n};\n\nexport function PageHeader({ title, description, action, className }: PageHeaderProps) {\n  return (\n    <div className={cn(\"flex flex-col md:flex-row items-start md:items-center justify-between gap-4 mb-6\", className)}>\n      <div className=\"grid gap-1 flex-1\">\n        <h1 className=\"text-xl md:text-2xl font-bold tracking-tight\">{title}</h1>\n        {description && (\n          <p className=\"text-muted-foreground\">{description}</p>\n        )}\n      </div>\n      {action && <div className=\"shrink-0\">{action}</div>}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AASO,SAAS,WAAW,KAA0D;QAA1D,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,SAAS,EAAmB,GAA1D;IACzB,qBACE,6LAAC;QAAI,WAAW,IAAA,4HAAE,EAAC,oFAAoF;;0BACrG,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAAgD;;;;;;oBAC7D,6BACC,6LAAC;wBAAE,WAAU;kCAAyB;;;;;;;;;;;;YAGzC,wBAAU,6LAAC;gBAAI,WAAU;0BAAY;;;;;;;;;;;;AAG5C;KAZgB","debugId":null}},
    {"offset": {"line": 67, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\n      \"font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,2KAAgB,MAG3B,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,4DACA;QAED,GAAG,KAAK;;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,2KAAgB,OAGjC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,2KAAgB,OAGhC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,6CACA;QAED,GAAG,KAAK;;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,2KAAgB,OAGtC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,2KAAgB,OAGlC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QAAI,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,2KAAgB,QAGjC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 192, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/firebase/init.ts"],"sourcesContent":["\n// Heart - Core Firebase connection\nimport { initializeApp, getApps, getApp, FirebaseOptions } from \"firebase/app\";\nimport { getFirestore, Firestore } from \"firebase/firestore\";\nimport { getAuth, Auth } from \"firebase/auth\";\nimport { getStorage, FirebaseStorage } from \"firebase/storage\";\n\nconst firebaseConfig: FirebaseOptions = {\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\n};\n\n// This function safely initializes and returns the Firebase app instance.\n// It ensures the app is initialized only once.\nconst getFirebaseApp = () => {\n  if (getApps().length > 0) {\n    return getApp();\n  }\n  \n  // Check if all required config values are present\n  const isConfigValid = firebaseConfig.apiKey && firebaseConfig.projectId;\n  if (!isConfigValid) {\n    // console.error(\"Firebase config is invalid. Check your environment variables.\");\n    return null;\n  }\n  \n  return initializeApp(firebaseConfig);\n};\n\n// Export getters that lazily initialize services, ensuring the app is ready.\nconst getDb = (): Firestore | null => {\n  const app = getFirebaseApp();\n  return app ? getFirestore(app) : null;\n};\n\nconst getFirebaseAuth = (): Auth | null => {\n  const app = getFirebaseApp();\n  return app ? getAuth(app) : null;\n};\n\nconst getFirebaseStorage = (): FirebaseStorage | null => {\n  const app = getFirebaseApp();\n  return app ? getStorage(app) : null;\n};\n\n// Export the app getter as well, though direct use should be rare.\nexport { getFirebaseApp as app, getDb, getFirebaseAuth, getFirebaseStorage };\n"],"names":[],"mappings":"AACA,mCAAmC;;;;;;;;;;;AAOzB;AANV;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;;;;;AAEA,MAAM,iBAAkC;IACtC,QAAQ,2KAAO,CAAC,GAAG,CAAC,4BAA4B;IAChD,YAAY,2KAAO,CAAC,GAAG,CAAC,gCAAgC;IACxD,WAAW,2KAAO,CAAC,GAAG,CAAC,+BAA+B;IACtD,eAAe,2KAAO,CAAC,GAAG,CAAC,mCAAmC;IAC9D,mBAAmB,2KAAO,CAAC,GAAG,CAAC,wCAAwC;IACvE,OAAO,2KAAO,CAAC,GAAG,CAAC,2BAA2B;AAChD;AAEA,0EAA0E;AAC1E,+CAA+C;AAC/C,MAAM,iBAAiB;IACrB,IAAI,IAAA,kLAAO,IAAG,MAAM,GAAG,GAAG;QACxB,OAAO,IAAA,iLAAM;IACf;IAEA,kDAAkD;IAClD,MAAM,gBAAgB,eAAe,MAAM,IAAI,eAAe,SAAS;IACvE,IAAI,CAAC,eAAe;QAClB,kFAAkF;QAClF,OAAO;IACT;IAEA,OAAO,IAAA,wLAAa,EAAC;AACvB;AAEA,6EAA6E;AAC7E,MAAM,QAAQ;IACZ,MAAM,MAAM;IACZ,OAAO,MAAM,IAAA,sLAAY,EAAC,OAAO;AACnC;AAEA,MAAM,kBAAkB;IACtB,MAAM,MAAM;IACZ,OAAO,MAAM,IAAA,4KAAO,EAAC,OAAO;AAC9B;AAEA,MAAM,qBAAqB;IACzB,MAAM,MAAM;IACZ,OAAO,MAAM,IAAA,kLAAU,EAAC,OAAO;AACjC","debugId":null}},
    {"offset": {"line": 259, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/lib/services/fuelService.ts"],"sourcesContent":["\nimport { doc, onSnapshot } from \"firebase/firestore\";\nimport { getDb } from \"@/lib/firebase/init\";\nimport type { FuelData } from \"@/lib/types\";\n\nclass FuelService {\n  /**\n   * Subscribes to real-time updates for the latest fuel prices.\n   * @param onData Callback function to handle incoming data.\n   * @param onError Callback function to handle errors.\n   * @returns An unsubscribe function to stop listening for updates.\n   */\n  onLatestFuelData(\n    onData: (data: FuelData) => void,\n    onError: (error: Error) => void\n  ) {\n    const db = getDb();\n    if (!db) {\n        const error = new Error(\"Firebase is not initialized. Check your environment variables.\");\n        onError(error);\n        return () => {}; // Return an empty unsubscribe function\n    }\n\n    const docRef = doc(db, \"fuelPrices\", \"latest\");\n\n    const unsubscribe = onSnapshot(\n      docRef,\n      (docSnap) => {\n        if (docSnap.exists()) {\n          onData(docSnap.data() as FuelData);\n        } else {\n          // Document doesn't exist, might be initial state\n          onError(new Error(\"Fuel price data document does not exist.\"));\n        }\n      },\n      (error) => {\n        // Handle snapshot listener errors\n        console.error(\"Firebase onSnapshot error:\", error);\n        onError(error);\n      }\n    );\n\n    return unsubscribe;\n  }\n}\n\n// Export a singleton instance of the service\nexport const fuelService = new FuelService();\n"],"names":[],"mappings":";;;;AACA;AAAA;AACA;;;AAGA,MAAM;IACJ;;;;;GAKC,GACD,iBACE,MAAgC,EAChC,OAA+B,EAC/B;QACA,MAAM,KAAK,IAAA,0IAAK;QAChB,IAAI,CAAC,IAAI;YACL,MAAM,QAAQ,IAAI,MAAM;YACxB,QAAQ;YACR,OAAO,KAAO,GAAG,uCAAuC;QAC5D;QAEA,MAAM,SAAS,IAAA,6KAAG,EAAC,IAAI,cAAc;QAErC,MAAM,cAAc,IAAA,oLAAU,EAC5B,QACA,CAAC;YACC,IAAI,QAAQ,MAAM,IAAI;gBACpB,OAAO,QAAQ,IAAI;YACrB,OAAO;gBACL,iDAAiD;gBACjD,QAAQ,IAAI,MAAM;YACpB;QACF,GACA,CAAC;YACC,kCAAkC;YAClC,QAAQ,KAAK,CAAC,8BAA8B;YAC5C,QAAQ;QACV;QAGF,OAAO;IACT;AACF;AAGO,MAAM,cAAc,IAAI","debugId":null}},
    {"offset": {"line": 305, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/dashboard/fuel/page.tsx"],"sourcesContent":["\n\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { PageHeader } from \"@/components/page-header\";\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription, CardFooter } from \"@/components/ui/card\";\nimport { fuelService, FuelData } from \"@/lib/services/fuelService\";\nimport { Loader2, Fuel as FuelIcon, Newspaper } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { format } from \"date-fns\";\n\nexport default function FuelPricesPage() {\n  const [fuelData, setFuelData] = useState<FuelData | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [isPaused, setIsPaused] = useState(false);\n\n  useEffect(() => {\n    const unsubscribe = fuelService.onLatestFuelData(\n      (data) => {\n        setFuelData(data);\n        setLoading(false);\n        setError(null);\n      },\n      (err) => {\n        console.error(\"Failed to subscribe to fuel data:\", err);\n        setError(\"Could not load live fuel price data. Please check the connection to the data source.\");\n        setLoading(false);\n      }\n    );\n\n    return () => unsubscribe();\n  }, []);\n\n  const priceColor = (p: number | undefined | null) => {\n    if (p === null || p === undefined) return \"text-muted-foreground\";\n    if (p >= 2.3) return \"text-destructive\";\n    if (p >= 1.6) return \"text-amber-600\";\n    return \"text-green-600\";\n  };\n  \n  const fuelPrices = fuelData ? [\n    { label: \"Petrol 91\", value: fuelData.petrol91 },\n    { label: \"Petrol 95\", value: fuelData.petrol95 },\n    { label: \"Diesel\", value: fuelData.diesel },\n    { label: \"Kerosene\", value: fuelData.kerosene },\n    { label: \"LPG\", value: fuelData.lpg },\n  ] : [];\n\n  const marqueeItems = fuelData ? [\n    ...fuelPrices.map((fuel, index) => (\n        <div key={`fuel-${index}`} className=\"flex items-center space-x-2 mx-6 py-4\">\n            <FuelIcon className={cn(\"h-5 w-5\", priceColor(fuel.value))} />\n            <span className=\"font-semibold\">{fuel.label}:</span>\n            <span className={cn(\"font-mono font-bold\", priceColor(fuel.value))}>\n                SAR {fuel.value?.toFixed(2) ?? \"N/A\"}\n            </span>\n        </div>\n    )),\n    <div key=\"news\" className=\"flex items-center space-x-2 mx-6 py-4 text-muted-foreground\">\n        <Newspaper className=\"h-5 w-5\" />\n        <span className=\"font-semibold\">Latest News:</span>\n        <span>{fuelData.news || \"No recent headlines.\"}</span>\n    </div>\n  ] : [];\n\n  return (\n    <>\n      <PageHeader\n        title=\"Official Fuel Prices & News\"\n        description=\"Live retail fuel prices scraped from official sources, updated periodically.\"\n      />\n      <Card>\n        <CardHeader>\n          <CardTitle>Live Fuel Price Ticker</CardTitle>\n          <CardDescription>\n            This data is automatically fetched from official sources and updated every 6 hours.\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          {loading ? (\n            <div className=\"flex h-24 items-center justify-center text-muted-foreground\">\n              <Loader2 className=\"mr-2 h-5 w-5 animate-spin\" />\n              <span>Loading live fuel data...</span>\n            </div>\n          ) : error ? (\n             <div className=\"flex h-24 items-center justify-center text-destructive\">\n                <span>{error}</span>\n             </div>\n          ) : fuelData ? (\n            <div \n                className=\"marquee border rounded-lg bg-muted/30\"\n                onMouseEnter={() => setIsPaused(true)}\n                onMouseLeave={() => setIsPaused(false)}\n            >\n                <div className={cn(\"marquee-content\", isPaused && \"paused\")}>\n                    {marqueeItems.map((item, index) => (\n                        <div key={`item-first-${index}`}>{item}</div>\n                    ))}\n                    {marqueeItems.map((item, index) => (\n                        <div key={`item-second-${index}`}>{item}</div>\n                    ))}\n                </div>\n            </div>\n          ) : null}\n        </CardContent>\n        <CardFooter>\n            <p className=\"text-xs text-muted-foreground\">\n                {fuelData?.lastUpdated ? `Last updated: ${format(new Date(fuelData.lastUpdated), 'PPP p')}` : 'Awaiting data...'}\n            </p>\n        </CardFooter>\n      </Card>\n    </>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}